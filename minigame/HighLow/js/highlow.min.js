!function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("highlow", [], t) : "object" == typeof exports ? exports.highlow = t() : e.highlow = t()
}(window, function() {
    return o = {},
    n.m = a = {
        5: function(e, t, a) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
            t.game = void 0;
            var o = (n.prototype.setAutoClose = function() {
                var e = this;
                this.timeAutoClose = 120,
                this.intervalClose || (this.intervalClose = setInterval(function() {
                    return e.autoClose()
                }, 1e3))
            }
            ,
            n.prototype.autoClose = function() {
                var e = this;
                0 == e.timeAutoClose && 0 < e.intervalClose ? (e.hideGui(),
                clearInterval(e.intervalClose),
                e.intervalClose = 0) : e.timeAutoClose--
            }
            ,
            n.prototype.Init = function() {
                if (!(0 < $("#gameHighlow").length)) {
                    var e = this
                      , t = jQuery.createTemplateURL(this.mediaUrl + "templates/game.html")
                      , a = jQuery.processTemplateToText(t);
                    $("#minigame").append(a),
                    $("#gameHighlow").draggable(),
                    App.resizeWindow();
                    for (var o = 0; o < this.assets.length; o++)
                        "" !== this.assets[o].id ? this.loader.add(this.assets[o].id, this.assets[o].src) : this.loader.add(this.assets[o].src);
                    this.loader.load(function() {
                        e.InitGame()
                    }),
                    libs.MiniGame.checkAutoShowGame("gameHighLow") ? this.showGui() : this.hideGui()
                }
            }
            ,
            n.prototype.InitGame = function() {
                var e = this;
                e.InitEvents(),
                e.GetJackpot(),
                e.ChangeType(e.betType),
                e.GetAccountInfo(),
                e.InitCanvas()
            }
            ,
            n.prototype.InitEvents = function() {
                var e = this;
                $("#gameHighlow .game .button-close").unbind("click").click(function() {
                    e.hideGui()
                }),
                $("#gameHighlow .jackpot .ic-money").unbind("click").bind("click", function() {
                    e.isPlaying ? e.showMessage(Message.GetMessage("hl17")) : (1 == e.betType ? e.betType = 2 : e.betType = 1,
                    e.ChangeType(e.betType))
                }),
                $("#gameHighlow .money-types").unbind("click").bind("click", function() {
                    e.isPlaying ? e.showMessage(Message.GetMessage("hl17")) : (1 == e.betType ? e.betType = 2 : e.betType = 1,
                    e.ChangeType(e.betType))
                }),
                $("#gameHighlow .bets .bet").unbind("click").click(function() {
                    1 != e.isPlaying ? (e.roomId = $(this).data("roomid"),
                    e.ChangeRoom(e.roomId)) : e.showMessage(Message.GetMessage("hl16"))
                }),
                $("#gameHighlow .card-box .play").unbind("click").click(function() {
                    e.startPlay()
                }),
                $("#gameHighlow .control #hilo-btn-up").unbind("click").click(function() {
                    e.btn_up_onClick()
                }),
                $("#gameHighlow .control #hilo-btn-down").unbind("click").click(function() {
                    e.btn_down_onClick()
                }),
                $("#gameHighlow #btn-newTurn").unbind("click").click(function() {
                    e.newTurn()
                }),
                $("#gameHighlow .buttons .button-guide").unbind("click").click(function() {
                    e.showGuide()
                }),
                $("#gameHighlow .buttons .button-history").unbind("click").click(function() {
                    e.showHistory(1)
                }),
                $("#gameHighlow .buttons .button-trophy").unbind("click").click(function() {
                    e.showRank(1)
                }),
                $("#gameHighlow .event").unbind("click").click(function() {
                    e.showTopEvent(1)
                })
            }
            ,
            n.prototype.HideHL = function() {
                try {
                    1 == libs.MiniGame.gameHub.connection.connectionState && libs.MiniGame.hubObj.HideHiLo().catch(function() {})
                } catch (e) {}
            }
            ,
            n.prototype.showGui = function() {
                this.isShow = !0,
                $("#gameHighlow").show(),
                $(".minigame-expand .game .ic-hl").removeClass("blink"),
                $("#q-hilow").hide(),
                this.GetAccountInfo()
            }
            ,
            n.prototype.hideGui = function() {
                this.isShow = !1,
                $("#gameHighlow").hide(),
                this.HideHL()
            }
            ,
            n.prototype.ChangeType = function(e) {
                var t, a = this;
                e && libs.Util.setSessionStorage("highlow.betType", a.betType),
                2 == e ? ($("#gameHighlow .jackpot .ic-money.money-1").removeClass("active"),
                $("#gameHighlow .jackpot .ic-money.money-2").addClass("active"),
                $("#gameHighlow .money-types .money-1").removeClass("active"),
                $("#gameHighlow .money-types .money-2").addClass("active")) : ($("#gameHighlow .jackpot .ic-money.money-2").removeClass("active"),
                $("#gameHighlow .jackpot .ic-money.money-1").addClass("active"),
                $("#gameHighlow .money-types .money-2").removeClass("active"),
                $("#gameHighlow .money-types .money-1").addClass("active")),
                a.gameroomData[a.currencyId + "_" + a.betType] ? (a.gameroomData[a.currencyId + "_" + a.betType].forEach(function(e) {
                    $("#gameHighlow .bets #bet" + e.RoomID + " span").html(libs.Util.ConvertMoney(e.BetValue)),
                    $("#gameHighlow .bets #bet" + e.RoomID).data("value", e.BetValue),
                    $("#gameHighlow .bets #bet" + e.RoomID).data("roomid", e.RoomID)
                }),
                a.ChangeRoom(a.roomId)) : (t = a.apiUrl + "GetGameRoom?currencyID=" + a.currencyId + "&betType=" + a.betType,
                libs.Util.GetData(t, "", function(e) {
                    null != e && 0 <= e.c && (e.d.forEach(function(e) {
                        $("#gameHighlow .bets #bet" + e.RoomID + " span").html(libs.Util.ConvertMoney(e.BetValue)),
                        $("#gameHighlow .bets #bet" + e.RoomID).data("value", e.BetValue),
                        $("#gameHighlow .bets #bet" + e.RoomID).data("roomid", e.RoomID)
                    }),
                    a.gameroomData[a.currencyId + "_" + a.betType] = e.d,
                    a.ChangeRoom(a.roomId))
                }))
            }
            ,
            n.prototype.ChangeRoom = function(e) {
                this.roomId = e,
                libs.Util.setSessionStorage("highlow.roomId", e),
                $("#gameHighlow .bets .bet").removeClass("active"),
                $("#gameHighlow #bet" + e).addClass("active");
                var t = $("#gameHighlow .bet.active").data("value");
                $("#gameHighlow #priceaward").html(libs.Util.ParseMoney(t)),
                this.GetJackpot()
            }
            ,
            n.prototype.startPlay = function() {
                var e = this;
                0 == e.isPlaying && (e.clearHistoryCard(),
                e.stepType = 0,
                e.locationId = 1,
                e.SetBetHiLo(e.betType, e.stepType, e.locationId, e.roomId))
            }
            ,
            n.prototype.btn_up_onClick = function() {
                this.setAutoClose(),
                $("#hilo-btn-up").hasClass("disabled") ? 0 == this.currStep || 0 < this.currStep && 0 == this.currPrize ? this.showMessage(Message.GetMessage("hl2")) : 0 < this.currStep && 0 < gameHighLow.currPrize && this.showMessage(Message.GetMessage("hl18")) : (this.enableButtonUpDown(!1),
                this.enableButtonNew(!1),
                this.countdown(0),
                this.locationId = 1,
                this.stepType = 1,
                this.SetBetHiLo(this.betType, this.stepType, this.locationId, this.roomId))
            }
            ,
            n.prototype.btn_down_onClick = function() {
                this.setAutoClose(),
                $("#hilo-btn-down").hasClass("disabled") ? 0 == this.currStep || 0 < this.currStep && 0 == this.currPrize ? this.showMessage(Message.GetMessage("hl2")) : 0 < this.currStep && 0 < this.currPrize && this.showMessage(Message.GetMessage("hl19")) : (this.enableButtonUpDown(!1),
                this.enableButtonNew(!1),
                this.countdown(0),
                this.locationId = 0,
                this.stepType = 1,
                this.SetBetHiLo(this.betType, this.stepType, this.locationId, this.roomId))
            }
            ,
            n.prototype.newTurn = function() {
                if (this.setAutoClose(),
                1 == this.isJackpot)
                    this.resetTurn();
                else if ($("#btn-newTurn").hasClass("disabled") && 1 != this.isJackpot || 1 != this.isPlaying) {
                    if ($("#btn-newTurn").hasClass("disabled"))
                        return void (0 == this.currStep || 0 < this.currStep && 0 == this.currPrize ? this.showMessage(Message.GetMessage("hl2")) : 0 < this.currStep && 0 < this.currPrize && this.showMessage(Message.GetMessage("hl20")))
                } else
                    this.SetBetHiLo(this.betType, 2, Math.floor(1.9999 * Math.random()), this.roomId)
            }
            ,
            n.prototype.resetMoney = function() {
                $("#gameHighlow #moneyForHigher").html(""),
                $("#gameHighlow #moneyForLower").html("");
                var e = parseInt($("#gameHighlow .bet.active").data("value"));
                $("#gameHighlow #priceaward").html(libs.Util.ParseMoney(e))
            }
            ,
            n.prototype.setMoney = function(e, t, a) {
                setTimeout(function() {
                    $("#gameHighlow #moneyForHigher").html("" + libs.Util.ParseMoney(e)),
                    $("#gameHighlow #moneyForLower").html("" + libs.Util.ParseMoney(t)),
                    $("#gameHighlow #priceaward").html(libs.Util.ParseMoney(a))
                }, 1500)
            }
            ,
            n.prototype.resetTurn = function() {
                var e = this;
                e.isPlaying = !1,
                e.countdown(0),
                e.resetMoney(),
                e.acesCount = 0,
                e.acesJson = {},
                e.isJackpot = 0,
                $("#gameHighlow .session").html("#0"),
                $("#gameHighlow .card-box .play").show(),
                e.clearHistoryCard(),
                e.enableButtonNew(!1),
                e.enableButtonUpDown(!1),
                e.enabledButtonBetValue(!0),
                $("#gameHighlow .fill-box .box").removeClass("active")
            }
            ,
            n.prototype.winJackpot = function() {
                var e = this
                  , t = Math.floor(e.currPrize);
                e.changeMoney(t),
                $("#gameHighlow .effect").show(),
                e.enableButtonUpDown(!1),
                e.enableButtonNew(!1),
                setTimeout(function() {
                    $("#gameHighlow .hide").show(),
                    e.newTurn()
                }, 4e3)
            }
            ,
            n.prototype.countdown = function(e) {
                if (this.countInterval && (clearInterval(this.countInterval),
                delete this.countInterval),
                e < 1)
                    return $("#gameHighlow .game .time").html("02:00"),
                    $(".minigame-expand .game .ic-hl").removeClass("blink"),
                    void $("#q-hilow").hide();
                var t = this;
                this.countInterval = setInterval(function() {
                    0 < e && e--,
                    t.isShow || ($("#q-hilow").html(libs.Util.formatTime(e)),
                    $(".minigame-expand .game .ic-hl").addClass("blink"),
                    $("#q-hilow").show()),
                    $("#gameHighlow .game .time").html(libs.Util.formatTime(e)),
                    0 == e && (clearInterval(t.countInterval),
                    delete t.countInterval,
                    t.setBetData && (1 == t.setBetData.step ? $("#gameHighlow #hilo-btn-up").hasClass("disabled") && !$("#gameHighlow #hilo-btn-down").hasClass("inactive") ? t.SetBetHiLo(t.betType, 1, 0, t.roomId) : !$("#gameHighlow #hilo-btn-up").hasClass("disabled") && $("#gameHighlow #hilo-btn-down").hasClass("inactive") ? t.SetBetHiLo(t.betType, 1, 1, t.roomId) : t.SetBetHiLo(t.betType, 1, Math.floor(1.9999 * Math.random()), t.roomId) : t.SetBetHiLo(t.betType, 2, Math.floor(1.9999 * Math.random()), t.roomId)))
                }, 1e3)
            }
            ,
            n.prototype.showGameHistory = function(e) {
                if (console.log("Hilo showGameHistory", e),
                e) {
                    for (var t = e.split(","), a = [], o = 0; o < t.length; o++)
                        a.push(t[o]);
                    var n = ""
                      , i = 10 < a.length ? a.length - 10 : 0;
                    if (0 < a.length) {
                        for (var s = i; s < a.length; s++)
                            n += this.renderHistoryCard(a[s]);
                        this.showCard(a[a.length - 1])
                    }
                    $("#gameHighlow .annoucement .sessions").html(n),
                    $("#gameHighlow .annoucement .sessions").show(),
                    $("#gameHighlow .annoucement .text").hide()
                }
            }
            ,
            n.prototype.renderHistoryCard = function(e) {
                var t = ""
                  , a = parseInt(e)
                  , o = a % 13 + 2;
                switch (o) {
                case 11:
                    t += "J";
                    break;
                case 12:
                    t += "Q";
                    break;
                case 13:
                    t += "K";
                    break;
                case 14:
                    t += "A";
                    var n = this.setCardType(e);
                    this.acesJson[n] = n;
                    break;
                default:
                    t += o.toString()
                }
                return '<span class="' + this.setCardType(a) + '" id="card_' + a + '">' + t + "</span>"
            }
            ,
            n.prototype.setCardType = function(e) {
                return 0 <= e && e <= 12 ? "ic-spade" : 13 <= e && e <= 25 ? "ic-club" : 26 <= e && e <= 38 ? "ic-diamond" : 38 <= e && e <= 51 ? "ic-heart" : void 0
            }
            ,
            n.prototype.clearHistoryCard = function() {
                $("#gameHighlow .annoucement .text").html(Message.GetMessage("hl2")),
                $("#gameHighlow .annoucement .text").show(),
                $("#gameHighlow .annoucement .sessions").html("")
            }
            ,
            n.prototype.displayCard = function(e) {
                var t = e.toString().split(",")
                  , a = [];
                for (var o in t) {
                    var n = parseInt(t[o]);
                    if (n && -1 < n && n < 52) {
                        var i = Math.floor(n / 13)
                          , s = n % 13 + 2
                          , r = "";
                        switch (s) {
                        case 11:
                            r += "J";
                            break;
                        case 12:
                            r += "Q";
                            break;
                        case 13:
                            r += "K";
                            break;
                        case 14:
                            r += "A";
                            break;
                        default:
                            r += s.toString()
                        }
                        switch (i) {
                        case 0:
                            r += "♠";
                            break;
                        case 1:
                            r += "♣";
                            break;
                        case 2:
                            r += "♦";
                            break;
                        case 3:
                            r += "♥"
                        }
                        a.push(r)
                    }
                }
                return a.join("")
            }
            ,
            n.prototype.enableButtonNew = function(e) {
                e ? $("#gameHighlow #btn-newTurn").removeClass("disabled") : $("#gameHighlow #btn-newTurn").addClass("disabled")
            }
            ,
            n.prototype.enableButtonUpDown = function(e, t) {
                var a;
                e ? ($("#gameHighlow #hilo-btn-up").removeClass("disabled"),
                $("#gameHighlow #hilo-btn-down").removeClass("disabled"),
                t && (2 == (a = this.cardArray[t % 13]) ? $("#gameHighlow #hilo-btn-down").addClass("disabled") : 14 == a && $("#gameHighlow #hilo-btn-up").addClass("disabled"))) : ($("#gameHighlow #hilo-btn-up").addClass("disabled"),
                $("#gameHighlow #hilo-btn-down").addClass("disabled"))
            }
            ,
            n.prototype.enabledButtonBetValue = function(e) {
                e ? $("#gameHighlow .bets .bet").removeClass("disabled") : $("#gameHighlow .bets .bet").each(function() {
                    $(this).addClass("disabled")
                })
            }
            ,
            n.prototype.changeMoney = function(e) {
                var t = $("#gameHighlow .winMoneyMotion");
                t.show(),
                t.css("top", "55px"),
                t.css("opacity", "1"),
                t.css("z-index", "999"),
                t.html("+" + libs.Util.ParseMoney(e)),
                t.fadeIn("fast").animate({
                    top: "-50px",
                    opacity: "0.1"
                }, 4e3, function() {
                    t.hide()
                })
            }
            ,
            n.prototype.showMessage = function(e) {
                $("#gameHighlow .annoucement .text").html(e),
                $("#gameHighlow .annoucement .sessions").hide(),
                $("#gameHighlow .annoucement .text").show(),
                setTimeout(function() {
                    $("#gameHighlow .annoucement .text").hide()
                }, 5e3)
            }
            ,
            n.prototype.SetBetHiLo = function(e, t, a, o) {
                var n = this;
                try {
                    n.isPlaying = !0,
                    libs.MiniGame.hubObj.SetBetHiLo(n.currencyId, e, t, a, o).then(function(e) {
                        if (e < 0)
                            switch (n.isPlaying = !1,
                            e) {
                            case -48:
                            case -50:
                            case -51:
                            case -201:
                            case -212:
                            case -213:
                            case -214:
                            case -215:
                            case -207:
                            case -60500:
                            case -60051:
                            case -60201:
                            case -60212:
                            case -60213:
                            case -60214:
                            case -60215:
                            case -60216:
                                n.showMessage(Message.GetMessage("me" + e, [e]));
                                break;
                            case -60200:
                                1 < gameHighLow.currStep && n.enableButtonNew(!0),
                                n.showMessage(Message.GetMessage("me" + e, [e]));
                                break;
                            case -216:
                                n.showMessage(Message.GetMessage("me" + e, [e]));
                                break;
                            default:
                                n.showMessage(Message.GetMessage("me-99", [e]))
                            }
                        else
                            2 == t && n.resetTurn()
                    }).catch(function() {
                        n.isPlaying = !1
                    })
                } catch (e) {
                    gameHighLow.isPlaying = !1
                }
            }
            ,
            n.prototype.updateHiLoSetBet = function(e) {
                console.log("Hilo updateHiLoSetBet", e);
                var t, a, o, n = this;
                e.responseStatus < 0 ? n.isPlaying = !1 : (0 < e.balance && libs.Util.UpdateBalance(n.betType, e.balance),
                t = e.turnId,
                n.currStep = e.step,
                n.currPrize = e.prizeValue,
                n.isJackpot = e.isJackpot,
                n.currBetValue = e.prizeValue,
                n.currCardId = e.cardId,
                0 < t && 0 == e.betValue ? (n.isPlaying = !1,
                n.changeMoney(e.prizeValue),
                n.showMessage(Message.GetMessage("hl21", [t, libs.Util.ParseMoney(e.prizeValue), 2 == n.betType ? Config.MoneyText[0] : Config.MoneyText[1], e.step]))) : 0 < t ? (n.setBetData = e,
                n.isPlaying = !0,
                $("#gameHighlow .session").html("#" + t),
                n.enabledButtonBetValue(!1),
                n.enableButtonUpDown(!0, e.cardId),
                1 == n.currStep ? n.enableButtonNew(!1) : n.enableButtonNew(!0),
                n.enableButtonUpDown(!1),
                n.enableButtonNew(!1),
                n.cardSlideEffect(e.cardId),
                0 < e.prizeValue && 0 < e.betValue ? (1 == e.isJackpot && setTimeout(n.winJackpot, 1e3),
                a = (n.currBetValue * e.betRateUp).toFixed(0),
                o = (n.currBetValue * e.betRateDown).toFixed(0),
                0 == gameHighLow.currStep ? n.resetMoney() : (n.countdown(120),
                n.setMoney(a, o, gameHighLow.currBetValue))) : 0 == e.prizeValue && 0 < e.betValue && (setTimeout(function() {
                    n.showMessage(Message.GetMessage("ol45"))
                }, 1500),
                n.enableButtonUpDown(!1),
                n.enableButtonNew(!1),
                setTimeout(function() {
                    n.resetTurn()
                }, 4e3))) : (n.enableButtonUpDown(!1),
                n.enableButtonNew(!1),
                n.isPlaying = !1))
            }
            ,
            n.prototype.GetAccountInfo = function() {
                libs.MiniGame.hubObj.GetAccountInfoHiLo(this.currencyId).then(function(e) {}).catch(function() {})
            }
            ,
            n.prototype.updateHiLoAccountInfo = function(e) {
                console.log("Hilo updateHiLoAccountInfo", e);
                var t = this;
                if (!(e.responseStatus < 0)) {
                    var a = e.currentTurnId
                      , o = e.currentStep;
                    if ($("#gameHighlow .session").html("#" + a),
                    0 < e.currentBetType && 1 != t.roomType && (t.betType = e.currentBetType),
                    0 < e.currentRoomId && (t.roomId = e.currentRoomId),
                    t.ChangeType(t.betType),
                    0 < a) {
                        t.isPlaying = !0,
                        t.enabledButtonBetValue(!1),
                        t.acesCount = e.acesCount,
                        t.showGameHistory(e.currentCardData);
                        for (var n = 1; n <= e.acesCount; n++)
                            $("#gameHighlow .box#A" + n).addClass("active");
                        3 == e.acesCount && t.winJackpot();
                        var i = e.currentBetValue
                          , s = (i * e.betRateUp).toFixed(0)
                          , r = (i * e.betRateDown).toFixed(0);
                        t.setMoney(s, r, i),
                        0 == e.remainTime ? 1 < o ? setTimeout(function() {
                            t.newTurn()
                        }, 2e3) : 1 == o && ($("#gameHighlow #hilo-btn-up").hasClass("disabled") && !$("#gameHighlow #hilo-btn-down").hasClass("disabled") ? t.SetBetHiLo(t.betType, 1, 0, t.roomId) : !$("#gameHighlow #hilo-btn-up").hasClass("disabled") && $("#gameHighlow #hilo-btn-down").hasClass("disabled") ? t.SetBetHiLo(t.betType, 1, 1, t.roomId) : t.SetBetHiLo(t.betType, 1, Math.floor(1.9999 * Math.random()), t.roomId)) : 0 < e.remainTime && t.countdown(e.remainTime)
                    } else
                        t.resetTurn()
                }
            }
            ,
            n.prototype.GetJackpot = function() {
                var t = this;
                libs.MiniGame.hubObj.GetJackpotHiLo(t.currencyId, t.betType, t.roomId).then(function(e) {
                    null == t.countJackpot && (t.countJackpot = new libs.Util.CountUp("hilowJackpot",!1,!1,0,e,0,1,function() {}
                    ),
                    t.countJackpot.start())
                }).catch(function() {})
            }
            ,
            n.prototype.updateJackpotHiLo = function(e) {
                null == this.countJackpot ? (this.countJackpot = new libs.Util.CountUp("hilowJackpot",!1,!1,0,e.JackpotFund,0,1,function() {}
                ),
                this.countJackpot.start()) : this.countJackpot.update(e.JackpotFund)
            }
            ,
            n.prototype.InitCanvas = function() {
                var e = this;
                e.canvas = document.getElementById("canvas-highlow"),
                e.application = new PIXI.Application(120,168,{
                    transparent: !0,
                    antialias: !0,
                    view: e.canvas
                }),
                e.application.ticker.speed = 2,
                e.application.ticker.minFPS = 60,
                e.application.ticker.add(e.update);
                var t = Math.floor(50 * Math.random()) + 1;
                e.cardTexture = new PIXI.Sprite(e.loader.resources.cards.textures[e.mapItems(t)]),
                e.cardTexture.x = 0,
                e.cardTexture.y = 0,
                e.cardTexture.anchor.set(.5),
                e.cardTexture.position.set(60, 84),
                e.cardTexture.name = "card-hilow",
                e.application.stage.addChild(e.cardTexture)
            }
            ,
            n.prototype.update = function() {
                EE3Timer.Timer.timerManager.update()
            }
            ,
            n.prototype.ResetCanvas = function() {
                $("#gameHighlow .card-box .play").show()
            }
            ,
            n.prototype.cardSlideEffect = function(o) {
                var n, e;
                o && (n = this,
                (e = new EE3Timer.Timer(80)).repeat = 15,
                e.on("repeat", function(e, t) {
                    var a = Math.floor(50 * Math.random()) + 1;
                    n.cardTexture.texture = n.loader.resources.cards.textures[n.mapItems(a)]
                }),
                e.on("end", function() {
                    console.log("end effect card"),
                    n.cardTexture.texture = n.loader.resources.cards.textures[n.mapItems(o)],
                    0 < n.currPrize ? n.enableButtonUpDown(!0, o) : n.enableButtonUpDown(!1),
                    1 < n.currStep && 0 != n.currPrize && n.enableButtonNew(!0),
                    $("#gameHighlow .annoucement .sessions").append(n.renderHistoryCard(o)),
                    $("#gameHighlow .annoucement .sessions").show(),
                    $("#gameHighlow .annoucement .text").hide();
                    var e = n.cardArray[o % 13];
                    if (console.log("end effect card 1", o, e),
                    2 == e)
                        $("#gameHighlow #hilo-btn-down").addClass("disabled");
                    else if (14 == e) {
                        $("#gameHighlow #hilo-btn-up").addClass("disabled");
                        var t = n.setCardType(o);
                        if (console.log("end effect card 2", o, t, n.acesJson[t]),
                        n.acesJson[t] && (n.acesCount++,
                        console.log("end effect card 3", n.acesCount),
                        0 < n.acesCount))
                            for (var a = 1; a <= n.acesCount; a++)
                                $("#gameHighlow .box#A" + a).addClass("active")
                    }
                }),
                e.expire = !0,
                e.start(),
                $("#gameHighlow .card-box .play").hide())
            }
            ,
            n.prototype.showCard = function(e) {
                console.log("Hilo showCard", e),
                $("#gameHighlow .card-box .play").hide(),
                this.cardTexture.texture = this.loader.resources.cards.textures[this.mapItems(e)]
            }
            ,
            n.prototype.mapItems = function(e) {
                switch (parseInt(e)) {
                case 0:
                    return "spade-2.png";
                case 1:
                    return "spade-3.png";
                case 2:
                    return "spade-4.png";
                case 3:
                    return "spade-5.png";
                case 4:
                    return "spade-6.png";
                case 5:
                    return "spade-7.png";
                case 6:
                    return "spade-8.png";
                case 7:
                    return "spade-9.png";
                case 8:
                    return "spade-10.png";
                case 9:
                    return "spade-J.png";
                case 10:
                    return "spade-Q.png";
                case 11:
                    return "spade-K.png";
                case 12:
                    return "spade-A.png";
                case 13:
                    return "club-2.png";
                case 14:
                    return "club-3.png";
                case 15:
                    return "club-4.png";
                case 16:
                    return "club-5.png";
                case 17:
                    return "club-6.png";
                case 18:
                    return "club-7.png";
                case 19:
                    return "club-8.png";
                case 20:
                    return "club-9.png";
                case 21:
                    return "club-10.png";
                case 22:
                    return "club-J.png";
                case 23:
                    return "club-Q.png";
                case 24:
                    return "club-K.png";
                case 25:
                    return "club-A.png";
                case 26:
                    return "diamond-2.png";
                case 27:
                    return "diamond-3.png";
                case 28:
                    return "diamond-4.png";
                case 29:
                    return "diamond-5.png";
                case 30:
                    return "diamond-6.png";
                case 31:
                    return "diamond-7.png";
                case 32:
                    return "diamond-8.png";
                case 33:
                    return "diamond-9.png";
                case 34:
                    return "diamond-10.png";
                case 35:
                    return "diamond-J.png";
                case 36:
                    return "diamond-Q.png";
                case 37:
                    return "diamond-K.png";
                case 38:
                    return "diamond-A.png";
                case 39:
                    return "heart-2.png";
                case 40:
                    return "heart-3.png";
                case 41:
                    return "heart-4.png";
                case 42:
                    return "heart-5.png";
                case 43:
                    return "heart-6.png";
                case 44:
                    return "heart-7.png";
                case 45:
                    return "heart-8.png";
                case 46:
                    return "heart-9.png";
                case 47:
                    return "heart-10.png";
                case 48:
                    return "heart-J.png";
                case 49:
                    return "heart-Q.png";
                case 50:
                    return "heart-K.png";
                case 51:
                    return "heart-A.png"
                }
            }
            ,
            n.prototype.showGuide = function() {
                libs.MiniGame.showPopup();
                var e = this;
                void 0 === e.templates["guide" + Message.GetLanguage()] && (e.templates["guide" + Message.GetLanguage()] = jQuery.createTemplateURL(e.mediaUrl + "templates/guide/popGuideStar_" + Message.GetLanguage() + ".html")),
                e.templates["guide" + Message.GetLanguage()].setParam("MediaUrl", e.mediaUrl),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(e.templates["guide" + Message.GetLanguage()]), {
                    scrollId: ".scroll-tx",
                    height: "590px"
                }),
                e.setAutoClose()
            }
            ,
            n.prototype.showHistory = function(e) {
                libs.MiniGame.showPopup();
                var t = this;
                void 0 === t.templates.history && (t.templates.history = jQuery.createTemplateURL(t.mediaUrl + "templates/popHistoryHiLo.html")),
                void 0 === t.templates["history-item"] && (t.templates["history-item"] = jQuery.createTemplateURL(t.mediaUrl + "templates/historyItemHiLo.html")),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(t.templates.history)),
                t.typeHis = e,
                t.cacheData = null,
                t.getHistory(1),
                t.setAutoClose(),
                libs.MiniGame.setActiveTab(t.typeHis),
                $("#t1History").unbind("click").click(function() {
                    gameHighLow.showHistory(1)
                }),
                $("#t2History").unbind("click").click(function() {
                    gameHighLow.showHistory(2)
                })
            }
            ,
            n.prototype.getHistory = function(t) {
                var e;
                $("#pager").html(""),
                null == gameHighLow.cacheData ? (e = this.apiUrl + "GetAccountHistory?currencyID=" + gameHighLow.currencyId + "&betType=" + gameHighLow.typeHis + "&TopCount=500&r=" + Math.random(),
                libs.Util.GetData(e, null, function(e) {
                    -1 < e.c && (gameHighLow.cacheData = e.d,
                    gameHighLow.bindHistory(t))
                })) : gameHighLow.bindHistory(t)
            }
            ,
            n.prototype.bindHistory = function(e) {
                $("#itemHis").html(jQuery.processTemplateToText(this.templates["history-item"], gameHighLow.cacheData.slice((e - 1) * libs.MiniGame.rowPerPage, e * libs.MiniGame.rowPerPage))),
                libs.MiniGame.pageCount = Math.ceil(gameHighLow.cacheData.length / libs.MiniGame.rowPerPage),
                $("#pager").pager({
                    pagenumber: e,
                    pagecount: libs.MiniGame.pageCount,
                    buttonClickCallback: gameHighLow.getHistory
                })
            }
            ,
            n.prototype.showRank = function(e) {
                libs.MiniGame.showPopup();
                var t = this;
                void 0 === t.templates.rank && (t.templates.rank = jQuery.createTemplateURL(this.mediaUrl + "templates/popRankHiLo.html")),
                void 0 === t.templates["rank-item"] && (t.templates["rank-item"] = jQuery.createTemplateURL(this.mediaUrl + "templates/rankItemHiLo.html")),
                t.templates["rank-item"].setParam("AccountID", App.account.accountID),
                t.templates["rank-item"].setParam("PortalID", App.account.portalID),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(t.templates.rank)),
                gameHighLow.cacheData = null,
                gameHighLow.typeHis = e,
                t.getRank(1),
                t.setAutoClose(),
                libs.MiniGame.setActiveTab(gameHighLow.typeHis),
                $("#t1rank").unbind("click").click(function() {
                    gameHighLow.showRank(1)
                }),
                $("#t2rank").unbind("click").click(function() {
                    gameHighLow.showRank(2)
                })
            }
            ,
            n.prototype.getRank = function(t) {
                var e, a = gameHighLow.typeHis;
                null == gameHighLow.cacheData ? (e = gameHighLow.apiUrl + "GetTopWinners?currencyID=" + gameHighLow.currencyId + "&betType=" + a + "&topCount=100&r=" + Math.random(),
                libs.Util.GetData(e, null, function(e) {
                    -1 < e.c && (gameHighLow.cacheData = e.d,
                    gameHighLow.bindRank(t))
                })) : gameHighLow.bindRank(t)
            }
            ,
            n.prototype.bindRank = function(e) {
                $("#itemRank").html(jQuery.processTemplateToText(gameHighLow.templates["rank-item"], gameHighLow.cacheData.slice((e - 1) * libs.MiniGame.rowPerPage, e * libs.MiniGame.rowPerPage))),
                libs.MiniGame.pageCount = Math.ceil(gameHighLow.cacheData.length / libs.MiniGame.rowPerPage),
                $("#pager").pager({
                    pagenumber: e,
                    pagecount: libs.MiniGame.pageCount,
                    buttonClickCallback: gameHighLow.getRank
                })
            }
            ,
            n.prototype.showTopEvent = function(t) {
                libs.MiniGame.showPopup();
                var a = this;
                void 0 === t && (t = "bxhngay"),
                "thele" == t ? (void 0 === a.temTopEventTheLe[Message.GetLanguage()] && (a.temTopEventTheLe[Message.GetLanguage()] = jQuery.createTemplateURL(a.mediaUrl + "templates/event/topEventTheLe_" + Message.GetLanguage() + ".html")),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(a.temTopEventTheLe[Message.GetLanguage()]), {
                    scrollId: ".scroll-tx",
                    height: "590px"
                })) : ("bxhchung" == t ? (void 0 === a.temTopEventFinal && (a.temTopEventFinal = jQuery.createTemplateURL(a.mediaUrl + "templates/event/topEventFinal.html")),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(a.temTopEventFinal), {
                    scrollId: ".scroll-tx",
                    height: "590px"
                }),
                $("#eventMonthSelect").change(function() {
                    a.bindTopEvent(t)
                })) : (void 0 === a.temTopEvent && (a.temTopEvent = jQuery.createTemplateURL(a.mediaUrl + "templates/event/topEvent.html")),
                libs.MiniGame.bindPopupContent(jQuery.processTemplateToText(a.temTopEvent), {
                    scrollId: ".scroll-tx",
                    height: "590px"
                }),
                $("#eventMonthSelect").change(function() {
                    var e = $("#eventMonthSelect").val() || a.topEventHiLoStart;
                    a.bindingSelectDate(new Date(e)),
                    a.bindTopEvent(t)
                }),
                $("#eventDateSelect").change(function() {
                    a.bindTopEvent(t)
                })),
                a.bindingSelectMonth(new Date(a.topEventHiLoStart)),
                void 0 === a.temTopEventItem && (a.temTopEventItem = jQuery.createTemplateURL(gameHighLow.mediaUrl + "templates/event/topEventItem.html")),
                a.temTopEventItem.setParam("AccountID", App.account.accountID),
                a.temTopEventItem.setParam("PortalID", App.account.portalID),
                $("#eventMonthSelect").change()),
                a.setAutoClose()
            }
            ,
            n.prototype.bindTopEvent = function(e) {
                var t = 1
                  , a = this
                  , o = -1
                  , n = 2019
                  , i = $("#eventDateSelect").val();
                "bxhchung" == e && (t = 2,
                i = $("#eventMonthSelect").val(),
                o = new Date(i).getMonth(),
                n = new Date(i).getFullYear()),
                i = i || (new Date).toDateString();
                var s = a.apiUrl + "GetTopEvent?currencyID=" + a.currencyId + "&eventType=" + t + "&eventDate=" + i + "&TopCount=10&r=" + Math.random();
                libs.Util.GetData(s, null, function(e) {
                    e.c < 0 || (null != (e = e.d) && 0 < e.length ? (a.temTopEventItem.setParam("Type", t),
                    a.temTopEventItem.setParam("AccountID", App.account.accountID),
                    a.temTopEventItem.setParam("PortalID", App.account.portalID),
                    a.temTopEventItem.setParam("Month", o),
                    a.temTopEventItem.setParam("Year", n),
                    $("#topEven1").html(jQuery.processTemplateToText(a.temTopEventItem, e))) : $("#topEven1").html('<tr class="my-tx"><td colspan="6">' + Message.GetMessage("mn17") + "</td></tr>"))
                }, function(e) {
                    $("#topEven1").html('<tr class="my-tx"><td colspan="6">' + Message.GetMessage("ps11") + "<</td></tr>")
                })
            }
            ,
            n.prototype.bindingSelectMonth = function(e) {
                var t = new Date
                  , a = new Date(e.getFullYear(),e.getMonth(),e.daysOfMonth());
                for ($("#eventMonthSelect").html(""); a < t; )
                    $("#eventMonthSelect").append('<option value="' + a.toDateString() + '">' + (a.getMonth() + 1) + "/" + a.getFullYear() + "</option>"),
                    (a = new Date(a.getFullYear(),a.getMonth() + 1,1)).getMonth() < t.getMonth() || t.getDate() > a.daysOfMonth() ? a.setDate(a.daysOfMonth()) : a.setDate(t.getDate());
                t < e ? t = new Date(e) : a < t && (t = new Date(a)),
                $("#eventMonthSelect").val(t.toDateString()),
                $("#eventMonthSelect option").length < 2 && $("#eventMonthSelect").hide()
            }
            ,
            n.prototype.bindingSelectDate = function(e) {
                var t, a = new Date, o = this.topEventHiLoDay;
                e.getFullYear() === new Date(this.topEventHiLoStart).getFullYear() && e.getMonth() === new Date(this.topEventHiLoStart).getMonth() ? e = new Date(this.topEventHiLoStart) : o = (e = new Date(e.getFullYear(),e.getMonth(),1)).daysOfMonth(),
                $("#eventDateSelect").html("");
                for (var n = 0; n < o; n++)
                    t = new Date(e.getFullYear(),e.getMonth(),e.getDate() + n),
                    $("#eventDateSelect").append('<option value="' + t.toDateString() + '">' + libs.Util.formDateTimehms(t, 1) + (t.toDateString() == a.toDateString() ? Message.GetMessage("mn19") : "") + "</option>");
                a < e ? a = new Date(e) : t < a && (a = new Date(t)),
                $("#eventDateSelect").val(a.toDateString())
            }
            ,
            n.prototype.roomIdToBetValue = function(e) {
                var t = this.gameroomData[this.currencyId + "_" + this.typeHis];
                if (!t)
                    return "";
                var a = t["" + (e - 1)];
                return a ? a.BetValue : ""
            }
            ,
            n);
            function n(e) {
                this.currencyId = 1,
                this.betType = 1,
                this.roomId = 1,
                this.roomType = 1,
                this.betValue = 1e3,
                this.assets = [{
                    id: "cards",
                    src: "/minigame/HighLow/json/cards_ct.json"
                }],
                this.isShow = !0,
                this.isPlaying = !1,
                this.gameroomData = [],
                this.stepType = 0,
                this.locationId = 1,
                this.currCardId = 0,
                this.currStep = 0,
                this.currPrize = 0,
                this.isJackpot = 0,
                this.currBetValue = 100,
                this.timeAutoClose = 120,
                this.acesCount = 0,
                this.acesJson = {},
                this.timer = 0,
                this.cardArray = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                this.enableTopEventHiLo = !0,
                this.enableEventCurrency = 1,
                this.topEventHiLoStart = "01/20/2019",
                this.topEventHiLoDay = 12,
                this.temTopEventTheLe = {},
                this.templates = {},
                this.typeHis = 4,
                this.mediaUrl = libs.MiniGame.urlRoot + "HighLow/",
                this.apiUrl = libs.MiniGame.apiUrl + "api/highlow/",
                this.currencyId = libs.MiniGame.currencyId,
                this.betType = libs.MiniGame.betType,
                this.roomType = libs.MiniGame.roomType,
                this.roomId = 1;
                var t = libs.Util.getSessionStorage("highlow.betType");
                t && 0 < t && t < 3 && (this.betType = t);
                var a = libs.Util.getSessionStorage("highlow.roomId");
                a && 0 < (a = parseInt(a)) && a < 4 && (this.roomId = a),
                this.loader = new PIXI.loaders.Loader,
                this.Init()
            }
            t.game = o
        }
    },
    n.c = o,
    n.d = function(e, t, a) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: a
        })
    }
    ,
    n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(t, e) {
        if (1 & e && (t = n(t)),
        8 & e)
            return t;
        if (4 & e && "object" == typeof t && t && t.__esModule)
            return t;
        var a = Object.create(null);
        if (n.r(a),
        Object.defineProperty(a, "default", {
            enumerable: !0,
            value: t
        }),
        2 & e && "string" != typeof t)
            for (var o in t)
                n.d(a, o, function(e) {
                    return t[e]
                }
                .bind(null, o));
        return a
    }
    ,
    n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return n.d(t, "a", t),
        t
    }
    ,
    n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    n.p = "/",
    n(n.s = 5);
    function n(e) {
        if (o[e])
            return o[e].exports;
        var t = o[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return a[e].call(t.exports, t, t.exports, n),
        t.l = !0,
        t.exports
    }
    var a, o
});
