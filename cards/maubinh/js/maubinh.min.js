!function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e(require("libs"), require("WebFont")) : "function" == typeof define && define.amd ? define("maubinh", ["libs", "WebFont"], e) : "object" == typeof exports ? exports.maubinh = e(require("libs"), require("WebFont")) : t.maubinh = e(t.libs, t.WebFont)
}(window, function(i, o) {
    return s = {},
    n.m = a = {
        0: function(t, e) {
            t.exports = i
        },
        1: function(t, e) {
            t.exports = o
        },
        36: function(t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = i(37)
              , n = i(1)
              , a = (s.prototype.delete = function() {
                this.game.Delete()
            }
            ,
            s.prototype.load = function(t) {
                this.game.Load(t)
            }
            ,
            s.prototype.join = function(t, e) {
                this.game.Join(t, e)
            }
            ,
            s.prototype.lobby = function() {
                this.game.EnterLobby()
            }
            ,
            s.prototype.stop = function() {
                this.game.Stop()
            }
            ,
            s);
            function s(t) {
                n.load({
                    custom: {
                        families: ["Roboto-Black", "Roboto-Bold", "Roboto-Medium", "Roboto-Regular", "Roboto-Light", "RobotoCondensed-Bold", "RobotoCondensed-Italic", "RobotoCondensed-Light", "RobotoCondensed-Regular", "UTM American Sans", "UTM Swiss Condensed", "UTM Swiss CondensedBold"]
                    },
                    fontactive: function() {}
                }),
                this.game = new o.games(t)
            }
            e.game = a
        },
        37: function(t, e, i) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var o = i(38)
              , n = i(39)
              , s = i(0)
              , a = i(40)
              , r = (h.prototype.Overlay = function(t) {
                t.tint = 5592405
            }
            ,
            h.prototype.UnOverlay = function(t) {
                t.tint = 16777215
            }
            ,
            h.prototype.CloseCard = function(t) {
                try {
                    TweenMax.to(t.scale, .3, {
                        data: "maubinh",
                        x: .01,
                        onComplete: function() {
                            t.texture = TextureCache["joker.png"],
                            TweenMax.to(t.scale, .3, {
                                data: "maubinh",
                                x: t.s
                            })
                        }
                    })
                } catch (t) {}
            }
            ,
            h.prototype.Load = function(t) {
                var e = this;
                e.loader.load(function() {
                    return e.Loading(e)
                }, function() {
                    $("#divLoading").hide(),
                    e.isLoad = !0,
                    e.InitHub(t)
                })
            }
            ,
            h.prototype.Loading = function(t) {
                $("#divLoading").show(),
                $("#loading-progress span").css("width", parseInt(t.loader.loader.progress) + "%"),
                $("#loading-progress-txt").html(parseInt(t.loader.loader.progress) + "%")
            }
            ,
            h.prototype.InitHub = function(t) {
                this.hub = new n.default(maubinhUrl + "hub",this.token,this),
                this.hub.Connect(this.currencyId, t)
            }
            ,
            h.prototype.Ping = function(t) {
                t.timerPing = setInterval(function() {
                    t.hub.connection.invoke("PingPong")
                }, 1e4)
            }
            ,
            h.prototype.Join = function(t, e) {
                this.hub.PlayNow(t, e)
            }
            ,
            h.prototype.GetPlayerByAccountId = function(t) {
                for (var e, i = 0; i < this.players.length; i++)
                    if (this.players[i] && this.players[i].accountId === t) {
                        e = this.players[i];
                        break
                    }
                return e
            }
            ,
            h.prototype.GetPlayerByPosition = function(t) {
                for (var e, i = 0; i < this.players.length; i++)
                    if (this.players[i] && this.players[i].pos === t) {
                        e = this.players[i];
                        break
                    }
                return e
            }
            ,
            h.prototype.GetCurrentPlayer = function() {
                if (this.roomModel && this.roomModel.Players)
                    for (var t in this.roomModel.Players)
                        this.roomModel.Players[t].AccountID === App.account.accountID + ":" + App.account.portalID && (this.currentPlayer = this.roomModel.Players[t])
            }
            ,
            h.prototype.UpdateAccount = function(t, e) {
                var i = this.GetPlayerByAccountId(t.AccountID);
                i && (i.player.Account = t,
                i.UpdateBalance(1 === this.roomModel.MoneyType ? t.GoldBalance : t.CoinBalance),
                i.ShowMoney(e))
            }
            ,
            h.prototype.PlayerLeave = function(t, e) {
                if (t === this.currentPlayer.AccountID)
                    this.currentPlayer && t == this.currentPlayer.AccountID && e && "object" == typeof e && this.hub.ShowMessage(e),
                    this.Delete(),
                    App.handleBack();
                else {
                    var i = this.GetPlayerByAccountId(t);
                    if (i) {
                        var o = i.pos;
                        i.Reset(),
                        i.destroy({
                            children: !0
                        }),
                        delete this.players[o],
                        this.players[o] = null
                    }
                }
            }
            ,
            h.prototype.PlayerJoin = function(t) {
                console.log("playerJoin", t),
                this.RenderPlayer(t)
            }
            ,
            h.prototype.PlayerOtherDevice = function() {
                App.showPopupMessage({
                    content: Message.GetMessage("ca-20024"),
                    textDone: "OK"
                }),
                this.Delete(),
                App.exitGame()
            }
            ,
            h.prototype.RenderPlayer = function(t) {
                var e = t.Position - this.currentPlayer.Position;
                e < 0 && (e += this.roomModel.MaxPlayer),
                this.players[e] = new a.default({
                    position: e,
                    player: t,
                    xy: this.playerPos[e],
                    w: t.AccountID === this.currentPlayer.AccountID ? 140 : 120,
                    h: t.AccountID === this.currentPlayer.AccountID ? 140 : 120,
                    b: t.AccountID === this.currentPlayer.AccountID ? 95 : 75,
                    game: this
                }),
                this.playerContainer.addChild(this.players[e])
            }
            ,
            h.prototype.RenderPlayers = function(t) {
                for (var e = 0; e < this.players.length; e++)
                    try {
                        this.players[e].destroy({
                            children: !0
                        })
                    } catch (t) {}
                for (var e in this.players = [null, null, null, null],
                t)
                    this.RenderPlayer(t[e])
            }
            ,
            h.prototype.JoinGame = function(t, e) {
                console.log("JoinGame", t, e),
                this.isJoin || (this.isJoin || (this.isJoin = !0),
                t && (this.roomModel = t,
                this.ready || this.Init(),
                this.DisableButtons(),
                this.GetCurrentPlayer(),
                this.RenderPlayers(this.roomModel.Players),
                this.CheckGame(e)))
            }
            ,
            h.prototype.Init = function() {
                PIXI.utils.skipHello(),
                this.size = [window.innerWidth, window.innerHeight],
                this.application = new PIXI.Application(this.size[0],this.size[1],{
                    antialias: !0,
                    transparent: !0,
                    resolution: 1,
                    autoResize: !0
                }),
                document.getElementById(this.target).innerHTML = "",
                document.getElementById(this.target).appendChild(this.application.renderer.view),
                this.Ping(this),
                this.InitContainer(),
                this.InitFrames(),
                this.InitBg(),
                this.InitTableInfo(),
                this.InitButton(),
                this.Resize(this);
                var t = this;
                this.application.ticker.add(function() {
                    return t.Update(t)
                }),
                this.ready = !0,
                this.resizeFunc = function() {
                    return t.Resize(t)
                }
                ,
                window.addEventListener("resize", this.resizeFunc),
                this.ResetTab()
            }
            ,
            h.prototype.Resize = function(t) {
                if (t.size = [$(window).width(), $(window).height()],
                t.application.renderer.resize($(window).width(), $(window).height()),
                t.size[0] < 1280 || t.size[1] < 720) {
                    var e = Math.min(t.size[0] / 1280, t.size[1] / 720);
                    t.mainContainer.scale.set(e)
                } else
                    t.mainContainer.scale.set(1);
                t.mainContainer.anchor.set(.5),
                t.mainContainer.position.set(t.size[0] / 2, t.size[1] / 2)
            }
            ,
            h.prototype.ResetTab = function() {
                window.addEventListener("blur", function() {
                    TweenLite.lagSmoothing(0)
                }, !1),
                window.addEventListener("focus", function() {
                    TweenLite.lagSmoothing(1e3, 16)
                }, !1)
            }
            ,
            h.prototype.Update = function(t) {
                t.timer && t.timer.tick(),
                EE3Timer.Timer.timerManager.update()
            }
            ,
            h.prototype.InitContainer = function() {
                this.bgContainer = new Container,
                this.buttonContainer = new Container,
                this.playerContainer = new Container,
                this.cardContainer = new Container,
                this.messageContainer = new Container,
                this.effectContainer = new Container,
                this.messageContainer.addChild(this.effectContainer),
                this.infoContainer = new Container,
                this.application.stage.addChild(this.bgContainer)
            }
            ,
            h.prototype.InitFrames = function() {
                var t;
                for (this.framesDealerChiaBai = [],
                this.framesDealerClick = [],
                this.framesDealerPlay = [],
                this.framesDealerNormal = [],
                this.framesFireWork = [],
                this.framesWin = framesFromTilesetImage("win.effect", 230, 230),
                t = 1; t < 31; t++)
                    this.framesFireWork.push(TextureCache["fire-work-" + t + ".png"]);
                for (t = 1; t < 15; t++)
                    this.framesDealerChiaBai.push(TextureCache["dealer-chia-bai-" + t + ".png"]);
                for (t = 1; t < 25; t++)
                    this.framesDealerClick.push(TextureCache["dealer-rung-nguc-" + t + ".png"]),
                    this.framesDealerPlay.push(TextureCache["dealer-moi-choi-" + t + ".png"]);
                for (t = 1; t < 49; t++)
                    this.framesDealerNormal.push(TextureCache["dealer-normal-" + t + ".png"])
            }
            ,
            h.prototype.InitBg = function() {
                this.mainContainer = new Sprite(TextureCache["table-" + this.roomModel.MoneyType]),
                this.mainContainer.anchor.set(.5),
                this.mainContainer.position.set(this.size[0] / 2, this.size[1] / 2),
                this.bgContainer.addChild(this.mainContainer);
                var t = new PIXI.Text(Message.GetMessage("na7"),{
                    fontFamily: this.fontFaceBold,
                    fontSize: 60,
                    fill: "#000"
                });
                t.alpha = .1,
                t.anchor.set(.5),
                t.y = -30,
                this.mainContainer.addChild(t),
                this.dealer = new AnimatedSprite(this.framesDealerNormal),
                this.dealer.anchor.set(.5),
                this.dealer.position.set(0, -253),
                this.dealer.animationSpeed = .2,
                this.dealer.interactive = !0,
                this.dealer.buttonMode = !0,
                this.dealer.on("pointerdown", this.DealerDown.bind(this.dealer, this)),
                this.dealer.play(),
                this.mainContainer.addChild(this.dealer);
                for (var e = 0; e < this.playerPos.length; e++) {
                    var i = new Sprite(TextureCache["ic-ad-user.png"]);
                    i.anchor.set(.5),
                    i.position.set(this.playerPos[e][0], this.playerPos[e][1]),
                    this.mainContainer.addChild(i)
                }
                this.txtNotify = new Sprite(TextureCache["big-bg-notify.png"]),
                this.txtNotify.anchor.set(.5),
                this.txtNotify.position.set(0, -102),
                this.txtNotify.addChild(new PIXI.Text("CHỜ NGƯỜI CHƠI",{
                    fontFamily: this.fontFaceBold,
                    fontSize: 18,
                    fill: "white"
                })),
                this.txtNotify.children[0].anchor.set(.5),
                this.txtNotify.visible = !1,
                this.txtStatus = new Sprite(TextureCache["small-bg-notify.png"]),
                this.txtStatus.anchor.set(.5),
                this.txtStatus.position.set(0, 68),
                this.txtStatus.addChild(new PIXI.Text("CHỜ NGƯỜI CHƠI",{
                    fontFamily: this.fontFaceBold,
                    fontSize: 12,
                    fill: "white"
                })),
                this.txtStatus.children[0].anchor.set(.5),
                this.txtStatus.visible = !1,
                this.mainContainer.addChild(this.playerContainer, this.txtNotify, this.txtStatus, this.cardContainer, this.messageContainer, this.buttonContainer),
                this.icDeal = new Sprite(TextureCache["ic-dealer.png"]),
                this.icDeal.anchor.set(.5),
                this.icDeal.position.set(this.dealer.x, this.dealer.y),
                this.icDeal.visible = !1,
                this.mainContainer.addChild(this.icDeal)
            }
            ,
            h.prototype.DealerChia = function(t) {
                var e = this;
                e.stop(),
                e.interactive = !1,
                e.buttonMode = !1,
                e.loop = !1,
                e.textures = t.framesDealerChiaBai,
                e.gotoAndPlay(0),
                e.onComplete = function() {
                    t.DealerNormal()
                }
            }
            ,
            h.prototype.DealerDown = function(t) {
                var e = this;
                e.stop(),
                e.interactive = !1,
                e.buttonMode = !1,
                e.loop = !1,
                e.textures = t.framesDealerClick,
                e.gotoAndPlay(0),
                e.onComplete = function() {
                    t.DealerNormal()
                }
            }
            ,
            h.prototype.DealerNormal = function() {
                var t = this.dealer;
                t.stop(),
                t.interactive = !0,
                t.buttonMode = !0,
                t.loop = !0,
                t.textures = this.framesDealerNormal,
                t.gotoAndPlay(0)
            }
            ,
            h.prototype.InitTableInfo = function() {
                var t = this.roomModel;
                this.btnBack = new Sprite(TextureCache["btn-def.png"]),
                this.btnBack.anchor.set(.5),
                this.btnBack.position.set(-520, -340),
                this.btnBack.addChild(new Sprite(TextureCache["ic-back.png"])),
                this.btnBack.children[0].anchor.set(.5),
                this.btnBack.interactive = !0,
                this.btnBack.buttonMode = !0,
                this.btnBack.on("pointerover", this.BtnBackOver).on("pointerout", this.BtnBackOut).on("pointerdown", this.BtnBackDown.bind(this.btnBack, this));
                var e = new PIXI.Text(Message.GetMessage(0 === t.MoneyType ? "tb113" : "tb112") + ": " + s.Util.NumberToString(t.Name, 3),{
                    fontFamily: this.fontRobotoCondensedRegular,
                    fontSize: 17,
                    fill: ["#a17eb0"]
                });
                e.anchor.set(0, .5),
                e.position.set(-480, -360);
                var i = new PIXI.Text(Message.GetMessage("ca81").toUpperCase() + s.Util.ParseMoney(t.MinBet) + " " + Config.MoneyText[t.MoneyType],{
                    fontFamily: this.fontRobotoCondensedRegular,
                    fontSize: 17,
                    fill: ["#a17eb0"]
                });
                i.anchor.set(0, .5),
                i.position.set(-480, -340),
                this.lblSession = new PIXI.Text(Message.GetMessage("ca95").toUpperCase() + " #",{
                    fontFamily: this.fontRobotoCondensedRegular,
                    fontSize: 17,
                    fill: ["#a17eb0"]
                }),
                this.lblSession.anchor.set(0, .5),
                this.lblSession.position.set(-480, -320),
                this.infoContainer.addChild(this.btnBack, e, i, this.lblSession),
                this.mainContainer.addChild(this.infoContainer)
            }
            ,
            h.prototype.BtnBackOver = function() {
                this.texture = TextureCache["btn-def-h.png"]
            }
            ,
            h.prototype.BtnBackOut = function() {
                this.texture = TextureCache["btn-def.png"]
            }
            ,
            h.prototype.BtnBackDown = function(t) {
                var e = t.players[0];
                e.isLeave ? (t.hub.UnregisterLeaveRoom(),
                e.isUnLeave = !0) : (t.hub.LeaveGame(),
                e.isUnLeave = !1)
            }
            ,
            h.prototype.InitButton = function() {
                this.btnChange = new Sprite(TextureCache["btn-game-normal.png"]),
                this.btnChange.name = "btn-game-normal.png",
                this.btnChange.anchor.set(.5),
                this.btnChange.position.set(340, 300),
                this.btnChange.addChild(new PIXI.Text(Message.GetMessage("ca58").toUpperCase(),{
                    fontFamily: this.fontFaceBold,
                    fontSize: "vi" === this.lang ? 20 : 14,
                    fill: ["#ffffff", "#fff2c5"]
                })),
                this.btnChange.getChildAt(0).anchor.set(.5),
                this.btnChange.getChildAt(0).position.set(0, 0),
                this.btnChange.interactive = !0,
                this.btnChange.buttonMode = !0,
                this.btnChange.on("pointerover", this.BtnHover).on("pointerout", this.BtnOut).on("pointerdown", this.BtnDown).on("pointerup", this.BtnChangeClick.bind(this.btnChange, this)),
                this.btnSort = new Sprite(TextureCache["btn-game-normal.png"]),
                this.btnSort.name = "btn-game-normal.png",
                this.btnSort.anchor.set(.5),
                this.btnSort.position.set(480, 300),
                this.btnSort.addChild(new PIXI.Text(Message.GetMessage("ca57").toUpperCase(),{
                    fontFamily: this.fontFaceBold,
                    fontSize: "vi" === this.lang ? 20 : 14,
                    fill: ["#ffffff", "#fff2c5"]
                })),
                this.btnSort.getChildAt(0).anchor.set(.5),
                this.btnSort.getChildAt(0).position.set(0, 0),
                this.btnSort.interactive = !0,
                this.btnSort.buttonMode = !0,
                this.btnSort.on("pointerover", this.BtnHover).on("pointerout", this.BtnOut).on("pointerdown", this.BtnDown).on("pointerup", this.BtnSortClick.bind(this.btnSort, this)),
                this.btnFinish = new Sprite(TextureCache["btn-game-normal.png"]),
                this.btnFinish.name = "btn-game-normal.png",
                this.btnFinish.anchor.set(.5),
                this.btnFinish.position.set(480, 300),
                this.btnFinish.addChild(new PIXI.Text(Message.GetMessage("ca40").toUpperCase(),{
                    fontFamily: this.fontFaceBold,
                    fontSize: "vi" === this.lang ? 20 : 14,
                    fill: ["#ffffff", "#fff2c5"]
                })),
                this.btnFinish.getChildAt(0).anchor.set(.5),
                this.btnFinish.getChildAt(0).position.set(0, 0),
                this.btnFinish.interactive = !0,
                this.btnFinish.buttonMode = !0,
                this.btnFinish.on("pointerover", this.BtnHover).on("pointerout", this.BtnOut).on("pointerdown", this.BtnDown).on("pointerup", this.BtnFinishClick.bind(this.btnFinish, this)),
                this.buttonContainer.addChild(this.btnChange, this.btnSort, this.btnFinish)
            }
            ,
            h.prototype.DisableButton = function(t) {
                t.interactive = !1,
                t.buttonMode = !1,
                t.texture = TextureCache[t.name.replace("normal", "disable")],
                t.visible = !1
            }
            ,
            h.prototype.EnableButton = function(t) {
                t.interactive = !0,
                t.buttonMode = !0,
                t.texture = TextureCache[t.name],
                t.visible = !0
            }
            ,
            h.prototype.DisableButtons = function() {
                this.DisableButton(this.btnChange),
                this.DisableButton(this.btnFinish),
                this.DisableButton(this.btnSort)
            }
            ,
            h.prototype.BtnHover = function() {
                this.texture = TextureCache[this.name.replace("normal", "hover")]
            }
            ,
            h.prototype.BtnOut = function() {
                this.texture = TextureCache[this.name]
            }
            ,
            h.prototype.BtnDown = function() {
                this.texture = TextureCache[this.name.replace("normal", "click")]
            }
            ,
            h.prototype.BtnSortClick = function(t) {
                var e = t.GetPlayerByAccountId(t.currentPlayer.AccountID);
                try {
                    t.sortContainer.visible = !0
                } catch (t) {}
                try {
                    e.handContainer.visible = !1
                } catch (t) {}
                t.DisableButton(t.btnSort),
                t.EnableButton(t.btnFinish),
                t.EnableButton(t.btnChange),
                e.icSort.visible = !0,
                e.icReady.visible = !1
            }
            ,
            h.prototype.BtnChangeClick = function(t) {
                var e = t.GetPlayerByAccountId(t.currentPlayer.AccountID);
                if (console.log("change", e, e.handCards, e.handCards.length),
                e && e.handCards && 13 === e.handCards.length) {
                    for (var i = 0; i < 5; i++) {
                        var o = t.arrCards[i].OrdinalValue;
                        t.arrCards[i].OrdinalValue = t.arrCards[i + 5].OrdinalValue,
                        t.arrCards[i + 5].OrdinalValue = o,
                        t.arrCards[i].texture = TextureCache[t.cardsMap[t.arrCards[i].OrdinalValue]],
                        t.arrCards[i + 5].texture = TextureCache[t.cardsMap[t.arrCards[i + 5].OrdinalValue]]
                    }
                    t.ChangeCards(),
                    t.CallSort()
                }
            }
            ,
            h.prototype.BtnFinishClick = function(i) {
                i.DisableButton(this),
                i.DisableButton(i.btnChange);
                for (var t = i.GetPlayerByAccountId(i.currentPlayer.AccountID), e = [], o = 0; o < t.handCards.length; o++)
                    e.push(t.handCards[o].OrdinalValue);
                i.hub.connection.invoke("KetThuc", e).then(function(t) {
                    if (console.log("kt", t),
                    t) {
                        var e = i.GetPlayerByAccountId(i.currentPlayer.AccountID);
                        e.icSort.visible = !1,
                        e.icReady.visible = !0,
                        e.handContainer.visible = !0;
                        try {
                            i.sortContainer.visible = !1
                        } catch (t) {}
                        i.EnableButton(i.btnSort)
                    }
                }).catch(function() {
                    console.log("error finish"),
                    i.EnableButton(i.btnFinish),
                    i.EnableButton(i.btnChange)
                })
            }
            ,
            h.prototype.ShowNotify = function(t, e) {
                var i = this;
                if (this.txtNotify.scale.set(.01),
                this.txtNotify.visible = !0,
                this.txtNotify.children[0].text = t,
                TweenMax.to(this.txtNotify.scale, .4, {
                    data: "tlmn",
                    x: 1,
                    y: 1
                }),
                e) {
                    var o = this;
                    setTimeout(function() {
                        TweenMax.to(i.txtNotify.scale, .2, {
                            data: "tlmn",
                            x: .01,
                            y: .01
                        }),
                        setTimeout(function() {
                            o.txtNotify.visible = !1
                        }, 300)
                    }, e)
                }
            }
            ,
            h.prototype.ShowStatus = function(t, e) {
                var i = this;
                s.Util.ClearTimeOut(this.timeStatus),
                this.txtStatus.scale.set(.01),
                this.txtStatus.visible = !0,
                this.txtStatus.children[0].text = t,
                TweenMax.to(this.txtStatus.scale, .4, {
                    data: "tlmn",
                    x: 1,
                    y: 1
                });
                var o = this;
                this.timeStatus = setTimeout(function() {
                    try {
                        TweenMax.to(i.txtStatus.scale, .2, {
                            data: "tlmn",
                            x: .01,
                            y: .01
                        }),
                        setTimeout(function() {
                            o.txtStatus.visible = !1
                        }, 300)
                    } catch (t) {}
                }, e || 2e3)
            }
            ,
            h.prototype.UpdateGameLoopId = function() {
                this.lblSession.text = Message.GetMessage("ca95").toUpperCase() + (this.roomModel.CurrentGameLoopId <= 0 ? "#" : this.roomModel.CurrentGameLoopId)
            }
            ,
            h.prototype.UpdateSession = function(t) {
                for (var e in this.roomModel = t,
                this.roomModel.Players) {
                    var i = this.GetPlayerByAccountId(e);
                    i && (i.player = this.roomModel.Players[e],
                    i.UpdateBalance(0 === this.roomModel.MoneyType ? i.player.Account.CoinBalance : i.player.Account.GoldBalance))
                }
                this.currentPlayer = this.roomModel.Players[App.account.accountID + ":" + App.account.portalID]
            }
            ,
            h.prototype.CheckGame = function(o) {
                var n = this;
                this.roomModel.CountPlayers < 2 ? this.ShowNotify(Message.GetMessage("me7")) : this.roomModel.IsPlaying ? (this.roomModel.Players[this.currentPlayer.AccountID].Status < 1 && this.ShowStatus(Message.GetMessage("me6")),
                setTimeout(function() {
                    if (0 <= n.roomModel.GameSessionStep) {
                        if (0 === n.roomModel.GameSessionStep)
                            n.ShowNotify(Message.GetMessage("me6"));
                        else {
                            for (var t in n.roomModel.Players) {
                                var e = n.GetPlayerByAccountId(n.roomModel.Players[t].AccountID);
                                0 < n.roomModel.Players[t].Status && e && (e.DrawCards(n.roomModel.Players[t].BaiRac, !0),
                                console.log(t))
                            }
                            if (1 === n.roomModel.GameSessionStep)
                                for (var t in console.log("xep bai"),
                                n.roomModel.Players)
                                    e = n.GetPlayerByAccountId(n.roomModel.Players[t].AccountID),
                                    0 < n.roomModel.Players[t].Status && e && e.accountId === n.currentPlayer.AccountID && 3 < o.time && (e.handContainer.visible = !1,
                                    n.EnableButton(n.btnChange),
                                    n.EnableButton(n.btnFinish),
                                    n.timerSort = o.time,
                                    n.SortChi(n.roomModel.Players[e.accountId].BaiRac));
                            else if (n.HaBai(n.roomModel),
                            3 === n.roomModel.GameSessionStep) {
                                var i = n.roomModel.Players;
                                for (var t in i)
                                    (e = n.GetPlayerByAccountId(t)) && 0 < i[t].Status && (e.ShowCards(i[t].BaiRac, i[t].BinhLung),
                                    e.ShowResult())
                            }
                        }
                        n.CreateTimer(o.accountId, o.time, o.totalTime)
                    }
                }, 300)) : this.ShowNotify(Message.GetMessage("me6"))
            }
            ,
            h.prototype.RemoveEffect = function() {
                if (this.effectContainer)
                    try {
                        this.effectContainer.destroy({
                            children: !0
                        })
                    } catch (t) {}
                this.effectContainer = new Container,
                this.messageContainer.addChild(this.effectContainer)
            }
            ,
            h.prototype.RemoveDrag = function() {
                if (this.arrCards && 0 < this.arrCards.length)
                    for (var t = 0; t < this.arrCards.length; t++)
                        this.arrCards[t].data = null,
                        this.arrCards.dragging = !1
            }
            ,
            h.prototype.ResetGame = function() {
                s.Util.ClearTimeOut(this.timerChi),
                s.Util.ClearTimeOut(this.timerReset),
                this.DeleteTween(),
                this.RemoveEffect(),
                this.RemoveDrag(),
                this.txtNotify.visible = !1;
                for (var t = 0; t < this.players.length; t++)
                    this.players[t] && this.players[t].Reset()
            }
            ,
            h.prototype.RemoveTimer = function() {
                if (this.timer)
                    try {
                        if (this.tTimer)
                            try {
                                this.tTimer.kill()
                            } catch (t) {}
                        s.Util.ClearTimeOut(this.timeAction),
                        this.timer.clearTimer(),
                        this.timer = null
                    } catch (t) {}
            }
            ,
            h.prototype.StartTimer = function(t, e, i) {
                this.DisableButtons(),
                this.CreateTimer(t, e),
                this.roomModel && 0 == this.roomModel.GameSessionStep && 1 < this.roomModel.CountPlayers && this.ShowNotify(Message.GetMessage("me6"))
            }
            ,
            h.prototype.CreateTimer = function(t, e, i) {
                this.RemoveTimer();
                var o = t === this.currentPlayer.AccountID ? 138 : 118
                  , n = t === this.currentPlayer.AccountID ? 138 : 118;
                this.timer = new s.Timer({
                    width: o,
                    height: n,
                    lineWidth: 4
                }),
                this.timer.startTimer(i || e, e);
                var a = this.GetPlayerByAccountId(t);
                if (a)
                    try {
                        this.timer.position.set(a.avatar.x - (t === this.currentPlayer.AccountID ? 70 : 60), a.avatar.y - (t === this.currentPlayer.AccountID ? 70 : 60)),
                        this.playerContainer.addChild(this.timer)
                    } catch (t) {}
            }
            ,
            h.prototype.StartGame = function(t) {
                for (var e in console.log("startgame", t),
                this.ResetGame(),
                this.RenderPlayers(t.Players),
                this.roomModel = t,
                this.UpdateGameLoopId(),
                this.ShowNotify(Message.GetMessage("ca110")),
                this.roomModel.Players) {
                    var i = this.GetPlayerByAccountId(this.roomModel.Players[e].AccountID);
                    0 < this.roomModel.Players[e].Status && i && (i.DrawCards(this.roomModel.Players[e].BaiRac),
                    this.ShowCards(i))
                }
                this.RemoveTimer(),
                this.timerSort = 42,
                this.CreateTimer(this.roomModel.OwnerId, 42)
            }
            ,
            h.prototype.ShowCards = function(i) {
                for (var o = this, t = 0; t < 13; t++)
                    setTimeout(function() {
                        i.handCards[i.inx].visible = !0,
                        i.inx++
                    }, 70 * t);
                setTimeout(function() {
                    for (var t in o.ShowNotify(Message.GetMessage("ca73")),
                    o.roomModel.Players) {
                        var e = o.GetPlayerByAccountId(t);
                        e && 0 < o.roomModel.Players[t].Status && (e.icSort.visible = !0)
                    }
                    i.accountId === o.currentPlayer.AccountID && 0 < o.roomModel.Players[o.currentPlayer.AccountID].Status && (i.handContainer.visible = !1,
                    o.EnableButton(o.btnChange),
                    o.EnableButton(o.btnFinish),
                    o.SortChi(o.roomModel.Players[i.accountId].BaiRac))
                }, 910)
            }
            ,
            h.prototype.HideSort = function() {
                this.GetPlayerByAccountId(this.currentPlayer.AccountID).handContainer.visible = !0;
                try {
                    this.sortContainer.visible = !1
                } catch (t) {}
            }
            ,
            h.prototype.RemoveSort = function() {
                if (this.sortContainer)
                    try {
                        this.sortContainer.destroy({
                            children: !0
                        })
                    } catch (t) {}
                this.sortContainer = new Container,
                this.cardContainer.addChild(this.sortContainer)
            }
            ,
            h.prototype.CheckTime = function(t, e) {
                clearTimeout(t.timeAction),
                --e <= 4 && (t.tTimer = TweenMax.to(t.timer, .5, {
                    data: "tlmn",
                    alpha: .2,
                    yoyo: !0,
                    repeat: -1
                })),
                0 < e && (t.timeAction = setTimeout(function() {
                    return t.CheckTime(t, e)
                }, 1e3))
            }
            ,
            h.prototype.SortChi = function(t) {
                this.RemoveSort(),
                this.arrCards = [];
                for (var e = 0; e < t.length; e++) {
                    var i = new Sprite(TextureCache[-1 === t[e].OrdinalValue ? "joker.png" : this.cardsMap[t[e].OrdinalValue]]);
                    i.scale.set(1.2),
                    i.anchor.set(.5),
                    i.position.set(this.sortCardsPos[e].x, this.sortCardsPos[e].y),
                    i.OrdinalValue = t[e].OrdinalValue,
                    i.pos = {
                        x: this.sortCardsPos[e].x,
                        y: this.sortCardsPos[e].y
                    },
                    this.arrCards.push(i),
                    this.sortContainer.addChild(i),
                    i.interactive = !0,
                    i.buttonMode = !0,
                    i.on("pointerover", this.CardOver.bind(i, this)).on("pointerdown", this.CardDown.bind(i, this)).on("pointermove", this.CardMove.bind(i, this)).on("pointerup", this.CardUp.bind(i, this)).on("pointerout", this.CardOut.bind(i, this)).on("pointerupoutside", this.CardUp.bind(i, this))
                }
                this.txtChi1 = new Sprite(TextureCache["mau-binh-doi-vi"]),
                this.txtChi1.anchor.set(0, .5),
                this.txtChi1.position.set(-130.8, 240),
                this.txtChi1.visible = !1,
                this.txtChi2 = new Sprite(TextureCache["mau-binh-doi-vi"]),
                this.txtChi2.anchor.set(0, .5),
                this.txtChi2.position.set(-130.8, 80),
                this.txtChi2.visible = !1,
                this.txtChi3 = new Sprite(TextureCache["mau-binh-doi-vi"]),
                this.txtChi3.anchor.set(0, .5),
                this.txtChi3.position.set(-130.8, -80),
                this.txtChi3.visible = !1,
                this.txtResult = new Sprite(TextureCache["mau-binh-doi-vi"]),
                this.txtResult.anchor.set(0, 1),
                this.txtResult.position.set(-130.8, -225),
                this.txtResult.visible = !1;
                var o = new PIXI.Text(Message.GetMessage("ca145"),{
                    fontFamily: this.fontFaceBold,
                    fontSize: 40,
                    fill: "#FFF"
                });
                o.anchor.set(0),
                o.position.set(170, -210);
                var n = new PIXI.Text(Message.GetMessage("ca146"),{
                    fontFamily: this.fontFaceBold,
                    fontSize: 30,
                    fill: "#FFF"
                });
                n.anchor.set(0),
                n.position.set(305, -150),
                this.txtTimeSort = new PIXI.Text(this.timerSort,{
                    fontFamily: this.fontFaceBold,
                    fontSize: 40,
                    fill: "RED"
                }),
                this.txtTimeSort.anchor.set(0),
                this.txtTimeSort.position.set(250, -155),
                this.sortContainer.addChild(this.txtChi1, this.txtChi2, this.txtChi3, this.txtResult, o, n, this.txtTimeSort),
                this.CallSort(),
                this.CountTimerSort()
            }
            ,
            h.prototype.CountTimerSort = function() {
                var t = this;
                if (s.Util.ClearTimeOut(this.timeSort),
                this.timerSort--,
                this.timerSort <= 0) {
                    this.DisableButtons(),
                    this.sortContainer.visible = !1;
                    var e = this.GetPlayerByAccountId(this.currentPlayer.AccountID);
                    e && (e.handContainer.visible = !0,
                    e.icReady.visible = !0,
                    e.icSort.visible = !1)
                } else
                    this.txtTimeSort.text = (this.timerSort < 10 ? "0" : "") + this.timerSort,
                    this.timeSort = setTimeout(function() {
                        return t.CountTimerSort()
                    }, 1e3)
            }
            ,
            h.prototype.CardOver = function(t) {
                this.filters = [t.filterCard]
            }
            ,
            h.prototype.CardOut = function(t) {
                this.filters = null
            }
            ,
            h.prototype.CardDown = function(t, e) {
                this.data = e.data,
                this.alpha = .9,
                this.dragging = !0,
                t.sortContainer.addChildAt(this, t.sortContainer.children.length - 1),
                t.overCard = null
            }
            ,
            h.prototype.CardMove = function(t) {
                this.x === this.pos.x && this.y === this.pos.y || (t.isDrag = !0);
                var e = this;
                if (e.dragging) {
                    var i = e.data.getLocalPosition(e.parent);
                    e.x = i.x,
                    e.y = i.y,
                    t.GetOverCard(e)
                }
            }
            ,
            h.prototype.GetOverCard = function(t) {
                this.overCard && (this.overCard.filters = null,
                this.overCard = null);
                for (var e = 0; e < this.sortCardsPos.length; e++)
                    if (t.x > this.sortCardsPos[e].x - 40.8 && t.x < this.sortCardsPos[e].x + 40.8 && t.y > this.sortCardsPos[e].y - 55.2 && t.y < this.sortCardsPos[e].y + 55.2) {
                        this.overCard = this.arrCards[e],
                        this.overCard.filters = [this.filterCard];
                        break
                    }
            }
            ,
            h.prototype.CardUp = function(t) {
                if (this.data = null,
                this.alpha = 1,
                this.dragging = !1,
                this.filters = null,
                t.moveCard = this,
                t.overCard) {
                    var e = t.moveCard.OrdinalValue
                      , i = t.overCard.OrdinalValue;
                    t.moveCard.OrdinalValue = i,
                    t.moveCard.texture = TextureCache[t.cardsMap[i]],
                    t.overCard.OrdinalValue = e,
                    t.overCard.texture = TextureCache[t.cardsMap[e]],
                    t.ChangeCards(),
                    t.CallSort()
                } else
                    t.moveCard = null;
                this.position.set(this.pos.x, this.pos.y),
                t.isDrag = !1
            }
            ,
            h.prototype.ChangeCards = function() {
                for (var t = this.GetPlayerByAccountId(this.currentPlayer.AccountID), e = 0; e < this.arrCards.length; e++)
                    t.handCards[e].OrdinalValue = this.arrCards[e].OrdinalValue,
                    t.handCards[e].texture = TextureCache[this.cardsMap[t.handCards[e].OrdinalValue]]
            }
            ,
            h.prototype.CallSort = function() {
                for (var t = this.GetPlayerByAccountId(this.currentPlayer.AccountID), e = [], i = 0; i < t.handCards.length; i++)
                    e.push(t.handCards[i].OrdinalValue);
                this.hub.connection.invoke("CheckChi", e).then(function(t) {}).catch(function() {
                    console.log("error sort")
                })
            }
            ,
            h.prototype.SortResult = function(t, e, i, o, n) {
                var a = this.GetPlayerByAccountId(t);
                this.txtChi1.visible = this.txtChi2.visible = this.txtChi3.visible = this.txtResult.visible = !1,
                1 === o ? (this.txtResult.texture = this.GetTxtResult(-1),
                this.txtResult.visible = !0) : 2 === o ? (this.txtResult.texture = this.GetTxtResult(99),
                this.txtResult.visible = !0) : 3 === o ? a.ShowMauBinh() : 3 == e.length && (this.txtChi1.texture = this.GetTxtResult(i[0]),
                this.txtChi2.texture = this.GetTxtResult(i[1]),
                this.txtChi3.texture = this.GetTxtResult(i[2]),
                this.txtChi1.visible = this.txtChi2.visible = this.txtChi3.visible = !0,
                this.txtResult.visible = !1);
                try {
                    for (var s = 0; s < n.length; s++)
                        n[s].highLight ? this.UnOverlay(this.arrCards[s]) : this.Overlay(this.arrCards[s])
                } catch (t) {}
            }
            ,
            h.prototype.HideIc = function() {
                for (var t in this.roomModel.Players) {
                    var e = this.GetPlayerByAccountId(t);
                    e && 0 < this.roomModel.Players[t].Status && (e.icReady.visible = e.icSort.visible = e.icBinhLung.visible = !1)
                }
            }
            ,
            h.prototype.FinishSort = function(t, e) {
                if (e) {
                    this.roomModel = e;
                    var i = this.GetPlayerByAccountId(t);
                    if (i.icSort.visible = !1,
                    i.icReady.visible = !0,
                    i.handContainer.visible = !0,
                    this.currentPlayer.AccountID === t)
                        try {
                            this.sortContainer.visible = !1
                        } catch (t) {}
                }
            }
            ,
            h.prototype.GetTxtResult = function(t) {
                var e = "mau-binh-";
                switch (t) {
                case this.resultFamily.MauBinh:
                    e += "mb-";
                    break;
                case this.resultFamily.RongCuon:
                case this.resultFamily.SanhRong:
                case this.resultFamily.DongHoa:
                case this.resultFamily.NamDoiMotSam:
                case this.resultFamily.LucPheBon:
                case this.resultFamily.BaThung:
                case this.resultFamily.BaSanh:
                    break;
                case this.resultFamily.ThungPhaSanhLon:
                    e += "thung-pha-sanh-dai-";
                    break;
                case this.resultFamily.ThungPhaSanh:
                    e += "thung-pha-sanh-";
                    break;
                case this.resultFamily.ThungPhaSanhChiGiua:
                    e += "thung-pha-sanh-chi-giua-";
                    break;
                case this.resultFamily.ThungPhaSanhChiDau:
                    e += "thung-pha-sanh-chi-dau-";
                    break;
                case this.resultFamily.TuQuy:
                    e += "tu-quy-";
                    break;
                case this.resultFamily.TuQuyChiGiua:
                    e += "tu-quy-chi-giua-";
                    break;
                case this.resultFamily.TuQuyChiDau:
                    e += "tu-quy-chi-dau-";
                    break;
                case this.resultFamily.CuLu:
                    e += "cu-lu-";
                    break;
                case this.resultFamily.CuLuchiGiua:
                    e += "cu-lu-chi-giua-";
                    break;
                case this.resultFamily.Thung:
                    e += "thung-";
                    break;
                case this.resultFamily.Sanh:
                    e += "sanh-";
                    break;
                case this.resultFamily.SamCo:
                    e += "xam-";
                    break;
                case this.resultFamily.SamChiCuoi:
                    e += "sam-chi-cuoi-";
                    break;
                case this.resultFamily.Thu:
                    e += "thu-";
                    break;
                case this.resultFamily.MauThau:
                    e += "mau-thau-";
                    break;
                case this.resultFamily.Doi:
                    e += "doi-";
                    break;
                case this.resultFamily.BinhLung:
                    e += "binh-lung-";
                    break;
                case this.resultFamily.LamSap:
                    e += "thang-ba-chi-";
                    break;
                case this.resultFamily.SapBaChi:
                    e += "thua-sap-ham-"
                }
                return void 0 !== TextureCache[e + this.lang] ? TextureCache[e + this.lang] : TextureCache[e + this.defaultLang]
            }
            ,
            h.prototype.HaBai = function(t) {
                if (t)
                    for (var e in this.HideIc(),
                    this.HideSort(),
                    this.RemoveTimer(),
                    this.DisableButtons(),
                    this.RemoveDrag(),
                    s.Util.ClearTimeOut(this.timeSort),
                    this.roomModel = t,
                    this.StartTimer(this.roomModel.OwnerId, 2, null),
                    this.roomModel.Players) {
                        var i = this.GetPlayerByAccountId(e);
                        i && 0 < this.roomModel.Players[e].Status && i.ShowCards(this.roomModel.Players[e].BaiRac)
                    }
            }
            ,
            h.prototype.SoChi = function() {
                s.Util.ClearTimeOut(this.timerChi);
                var t = this
                  , e = Message.GetMessage("ca28") + " " + this.chi;
                e = 3 < this.chi ? Message.GetMessage(this.chi === this.level - 1 && this.roomModel.GameLoop.SapBaChi ? "ca29" : "me18") : e,
                this.ShowNotify(e.toUpperCase());
                var i = this.roomModel.Players;
                for (var o in i) {
                    var n = this.GetPlayerByAccountId(o);
                    n && 0 < i[o].Status && n.ShowChi(this.chi, i[o].BinhLung)
                }
                this.chi++,
                this.chi > this.level ? this.timerReset = setTimeout(function() {
                    return t.ResetGame()
                }, 5e3) : this.timerChi = setTimeout(function() {
                    t.SoChi()
                }, 2 * t.roomModel.CountActivePlayer * 1e3)
            }
            ,
            h.prototype.ShowResult = function(t) {
                var e = this;
                if (t)
                    if (this.HideIc(),
                    this.HideSort(),
                    this.RemoveTimer(),
                    this.DisableButtons(),
                    this.RemoveDrag(),
                    s.Util.ClearTimeOut(this.timeSort),
                    this.roomModel = t,
                    this.chi = 0,
                    this.level = 4,
                    this.roomModel.GameLoop.SapBaChi && (this.level = 5),
                    2 <= this.roomModel.GameLoop.MauBinhToiTrang && (this.level = 1),
                    this.roomModel.GameLoop.BinhLung >= this.roomModel.CountActivePlayer - 1 && (this.level = 1),
                    1 === this.level) {
                        var i = this.roomModel.Players;
                        for (var o in i)
                            (n = this.GetPlayerByAccountId(o)) && 0 < i[o].Status && (n.ShowCards(i[o].BaiRac, i[o].BinhLung),
                            n.ShowResult());
                        setTimeout(function() {
                            return e.ResetGame()
                        }, 5e3)
                    } else {
                        for (var o in i = this.roomModel.Players) {
                            var n;
                            (n = this.GetPlayerByAccountId(o)) && 0 < i[o].Status && i[o].BinhLung && n.ShowCards(i[o].BaiRac, i[o].BinhLung)
                        }
                        e.chi++,
                        e.SoChi()
                    }
            }
            ,
            h.prototype.UpdateConnectionStatus = function(t, e) {
                var i = this.GetPlayerByAccountId(t);
                i && i.UpdateStatus(e)
            }
            ,
            h.prototype.EnterLobby = function() {
                this.hub.EnterLobby(this.currencyId)
            }
            ,
            h.prototype.ExitLobby = function() {
                this.hub.ExitLobby()
            }
            ,
            h.prototype.Stop = function() {
                this.ExitLobby(),
                this.hub.connection.stop()
            }
            ,
            h.prototype.DeleteTween = function() {
                for (var t = TweenMax.getAllTweens(), e = 0; e < t.length; e++)
                    "tlmn" === t[e].data && t[e].kill()
            }
            ,
            h.prototype.Delete = function() {
                this.isJoin = !1,
                this.ready = !1,
                s.Util.ClearTimeOut(this.timeStatus),
                s.Util.ClearTimeInterval(this.timerPing),
                window.removeEventListener("resize", this.resizeFunc);
                for (var t = TweenMax.getAllTweens(), e = 0; e < t.length; e++)
                    "maubinh" === t[e].data && t[e].kill();
                try {
                    this.application.view.remove(),
                    this.application.destroy(!0)
                } catch (t) {}
            }
            ,
            h);
            function h(t) {
                this.accountId = 0,
                this.defaultLang = "en",
                this.name = "maubinh",
                this.ready = !1,
                this.players = [null, null, null, null],
                this.fontRobotoCondensedRegular = "RobotoCondensed-Regular",
                this.fontRobotoCondensedBold = "RobotoCondensed-Bold",
                this.fontFaceBold = "Roboto-Bold",
                this.fontFace = "Roboto-Light",
                this.isLoad = !1,
                this.isJoin = !1,
                this.cardsMap = ["1bich.png", "2bich.png", "3bich.png", "4bich.png", "5bich.png", "6bich.png", "7bich.png", "8bich.png", "9bich.png", "10bich.png", "11bich.png", "12bich.png", "13bich.png", "1tep.png", "2tep.png", "3tep.png", "4tep.png", "5tep.png", "6tep.png", "7tep.png", "8tep.png", "9tep.png", "10tep.png", "11tep.png", "12tep.png", "13tep.png", "1do.png", "2do.png", "3do.png", "4do.png", "5do.png", "6do.png", "7do.png", "8do.png", "9do.png", "10do.png", "11do.png", "12do.png", "13do.png", "1co.png", "2co.png", "3co.png", "4co.png", "5co.png", "6co.png", "7co.png", "8co.png", "9co.png", "10co.png", "11co.png", "12co.png", "13co.png", "joker.png"],
                this.isPlaying = !1,
                this.resultFamily = {
                    MauBinh: 99,
                    Normal: -100,
                    LamSap: -10,
                    SapBaChi: -9,
                    SamChiCuoi: -7,
                    CuLuchiGiua: -6,
                    TuQuyChiDau: -5,
                    ThungPhaSanhChiDau: -4,
                    TuQuyChiGiua: -3,
                    ThungPhaSanhChiGiua: -2,
                    BinhLung: -1,
                    MauThau: 0,
                    Doi: 1,
                    Thu: 2,
                    SamCo: 3,
                    Sanh: 4,
                    Thung: 5,
                    CuLu: 6,
                    TuQuy: 7,
                    ThungPhaSanh: 8,
                    ThungPhaSanhLon: 9,
                    BaSanh: 10,
                    BaThung: 11,
                    LucPheBon: 12,
                    NamDoiMotSam: 13,
                    DongHoa: 14,
                    SanhRong: 15,
                    RongCuon: 16
                },
                this.actionName = {
                    START_GAME: 1e3,
                    XEP_BAI: 1,
                    HA_BAI: 2,
                    KET_THUC: 3
                },
                this.playerPos = [[-210, 150], [540, -25], [400, -240], [-500, -115]],
                this.txtPos = [{
                    x: -10,
                    y: 273
                }, {
                    x: 360,
                    y: 91
                }, {
                    x: 220,
                    y: -131
                }, {
                    x: -330,
                    y: -21
                }],
                this.handCardsPos = [[{
                    x: -80,
                    y: 210,
                    rot: -20
                }, {
                    x: -45,
                    y: 201,
                    rot: -10
                }, {
                    x: -10,
                    y: 198,
                    rot: 0
                }, {
                    x: 25,
                    y: 201,
                    rot: 10
                }, {
                    x: 60,
                    y: 210,
                    rot: 20
                }, {
                    x: -80,
                    y: 145,
                    rot: -20
                }, {
                    x: -45,
                    y: 136,
                    rot: -10
                }, {
                    x: -10,
                    y: 133,
                    rot: 0
                }, {
                    x: 25,
                    y: 136,
                    rot: 10
                }, {
                    x: 60,
                    y: 145,
                    rot: 20
                }, {
                    x: -45,
                    y: 71,
                    rot: -10
                }, {
                    x: -10,
                    y: 68,
                    rot: 0
                }, {
                    x: 25,
                    y: 71,
                    rot: 10
                }], [{
                    x: 300,
                    y: 42,
                    rot: -20
                }, {
                    x: 330,
                    y: 34,
                    rot: -10
                }, {
                    x: 360,
                    y: 31,
                    rot: 0
                }, {
                    x: 390,
                    y: 34,
                    rot: 10
                }, {
                    x: 420,
                    y: 42,
                    rot: 20
                }, {
                    x: 300,
                    y: -8,
                    rot: -20
                }, {
                    x: 330,
                    y: -16,
                    rot: -10
                }, {
                    x: 360,
                    y: -19,
                    rot: 0
                }, {
                    x: 390,
                    y: -16,
                    rot: 10
                }, {
                    x: 420,
                    y: -8,
                    rot: 20
                }, {
                    x: 330,
                    y: -66,
                    rot: -10
                }, {
                    x: 360,
                    y: -69,
                    rot: 0
                }, {
                    x: 390,
                    y: -66,
                    rot: 10
                }], [{
                    x: 160,
                    y: -180,
                    rot: -20
                }, {
                    x: 190,
                    y: -188,
                    rot: -10
                }, {
                    x: 220,
                    y: -191,
                    rot: 0
                }, {
                    x: 250,
                    y: -188,
                    rot: 10
                }, {
                    x: 280,
                    y: -180,
                    rot: 20
                }, {
                    x: 160,
                    y: -230,
                    rot: -20
                }, {
                    x: 190,
                    y: -238,
                    rot: -10
                }, {
                    x: 220,
                    y: -241,
                    rot: 0
                }, {
                    x: 250,
                    y: -238,
                    rot: 10
                }, {
                    x: 280,
                    y: -230,
                    rot: 20
                }, {
                    x: 190,
                    y: -288,
                    rot: -10
                }, {
                    x: 220,
                    y: -291,
                    rot: 0
                }, {
                    x: 250,
                    y: -288,
                    rot: 10
                }], [{
                    x: -390,
                    y: -70,
                    rot: -20
                }, {
                    x: -360,
                    y: -78,
                    rot: -10
                }, {
                    x: -330,
                    y: -81,
                    rot: 0
                }, {
                    x: -300,
                    y: -78,
                    rot: 10
                }, {
                    x: -270,
                    y: -70,
                    rot: 20
                }, {
                    x: -390,
                    y: -120,
                    rot: -20
                }, {
                    x: -360,
                    y: -128,
                    rot: -10
                }, {
                    x: -330,
                    y: -131,
                    rot: 0
                }, {
                    x: -300,
                    y: -128,
                    rot: 10
                }, {
                    x: -270,
                    y: -120,
                    rot: 20
                }, {
                    x: -360,
                    y: -178,
                    rot: -10
                }, {
                    x: -330,
                    y: -181,
                    rot: 0
                }, {
                    x: -300,
                    y: -178,
                    rot: 10
                }]],
                this.sortCardsPos = [{
                    x: -90,
                    y: 160
                }, {
                    x: 10,
                    y: 160
                }, {
                    x: 110,
                    y: 160
                }, {
                    x: 210,
                    y: 160
                }, {
                    x: 310,
                    y: 160
                }, {
                    x: -90,
                    y: 0
                }, {
                    x: 10,
                    y: 0
                }, {
                    x: 110,
                    y: 0
                }, {
                    x: 210,
                    y: 0
                }, {
                    x: 310,
                    y: 0
                }, {
                    x: -90,
                    y: -160
                }, {
                    x: 10,
                    y: -160
                }, {
                    x: 110,
                    y: -160
                }],
                this.moneyText = ["XU", "GAM"],
                this.timerSort = 0,
                this.isDrag = !1,
                this.filterCard = new PIXI.filters.OutlineFilter(3,15572500),
                this.idOver = -1,
                this.chi = 0,
                this.size = t.size,
                this.target = t.target,
                this.token = t.token,
                this.loader = new o.default,
                this.currencyId = t.currencyID,
                this.lang = Message.GetLanguageCode(),
                this.ready = !1,
                this.isJoin = !1,
                this.players = [null, null, null, null]
            }
            e.games = r
        },
        38: function(t, e, i) {
            "use strict";
            var o, n = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var i in e)
                        e.hasOwnProperty(i) && (t[i] = e[i])
                }
                )(t, e)
            }
            ,
            function(t, e) {
                function i() {
                    this.constructor = t
                }
                o(t, e),
                t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
                new i)
            }
            );
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var a, s = i(0), r = (a = s.Assets,
            n(h, a),
            h);
            function h() {
                var t = a.call(this) || this;
                return t.assets = [{
                    id: "",
                    src: "/assets/images/maubinh/maubinh.json"
                }, {
                    id: "",
                    src: "/assets/images/common/bai.json"
                }, {
                    id: "",
                    src: "/assets/images/common/common.json"
                }, {
                    id: "",
                    src: "/assets/images/common/dealer.json"
                }, {
                    id: "",
                    src: "/assets/images/common/firework.json"
                }, {
                    id: "win.effect",
                    src: "/assets/images/common/win.png"
                }, {
                    id: "table-1",
                    src: "/assets/images/common/table-vip.png"
                }, {
                    id: "table-0",
                    src: "/assets/images/common/table-normal.png"
                }],
                t.add(t.assets),
                t
            }
            e.default = r
        },
        39: function(t, e, i) {
            "use strict";
            var o, n = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var i in e)
                        e.hasOwnProperty(i) && (t[i] = e[i])
                }
                )(t, e)
            }
            ,
            function(t, e) {
                function i() {
                    this.constructor = t
                }
                o(t, e),
                t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
                new i)
            }
            );
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var s, a = i(0), r = (s = a.Hub,
            n(h, s),
            h.prototype.Listen = function() {
                s.prototype.Listen.call(this);
                var a = this;
                a.connection.on("updateGameSession", function(t, e) {
                    console.log("updateGameSession", e),
                    a.game && a.game.currentPlayer.AccountID == t && 1 < a.game.roomModel.CountPlayers && 0 == a.game.roomModel.GameSessionStep && a.game.CreateTimer(a.game.roomModel.OwnerId, a.game.roomModel.GameLoop.Elapsed)
                }),
                a.connection.on("ketThuc", function(t, e) {
                    console.log("ketThuc", t, e),
                    a.game && a.game.FinishSort(t, e)
                }),
                a.connection.on("checkSortChi", function(t, e, i, o, n) {
                    console.log("checkSortChi", t, e, i, o, n),
                    a.game && a.game.SortResult(t, e, i, o, n)
                }),
                a.connection.on("haBai", function(t) {
                    console.log("haBai", t),
                    a.game && a.game.HaBai(t)
                }),
                a.connection.on("showResult", function(t) {
                    console.log("showResult", t),
                    a.game && a.game.ShowResult(t)
                }),
                a.connection.on("startActionTimer", function(t, e, i) {
                    console.log("startActionTimer", t, e, i),
                    a.game && a.game.StartTimer(t, e, i)
                }),
                a.connection.on("stopActionTimer", function() {
                    a.game && a.game.RemoveTimer()
                })
            }
            ,
            h);
            function h(t, e, i) {
                var o = s.call(this, t, e, i) || this;
                return o.AutoPlay = function() {
                    this.connection.invoke("AutoPlay").then(function(t) {
                        console.log("AutoPlay", t)
                    })
                }
                ,
                o.CheckChi = function(t) {
                    this.connection.invoke("CheckChi", t).then(function(t) {
                        console.log("CheckChi", t)
                    })
                }
                ,
                o.KetThuc = function(t) {
                    this.connection.invoke("KetThuc", t).then(function(t) {
                        console.log("KetThuc", t)
                    })
                }
                ,
                o
            }
            e.default = r
        },
        40: function(t, e, i) {
            "use strict";
            var o, n = this && this.__extends || (o = function(t, e) {
                return (o = Object.setPrototypeOf || {
                    __proto__: []
                }instanceof Array && function(t, e) {
                    t.__proto__ = e
                }
                || function(t, e) {
                    for (var i in e)
                        e.hasOwnProperty(i) && (t[i] = e[i])
                }
                )(t, e)
            }
            ,
            function(t, e) {
                function i() {
                    this.constructor = t
                }
                o(t, e),
                t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
                new i)
            }
            );
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var a, s = i(0), r = (a = s.Player,
            n(h, a),
            h.prototype.ResetHand = function() {
                if (this.handContainer)
                    try {
                        this.handContainer.destroy({
                            children: !0
                        })
                    } catch (t) {}
                this.handContainer = new Container,
                this.game.cardContainer.addChild(this.handContainer)
            }
            ,
            h.prototype.ResetEffect = function() {
                if (this.effectContainer)
                    try {
                        this.effectContainer.destroy({
                            children: !0
                        })
                    } catch (t) {}
                this.effectContainer = new Container,
                this.game.effectContainer.addChild(this.effectContainer)
            }
            ,
            h.prototype.Reset = function() {
                this.inx = 0,
                this.handCards = [],
                this.icReady.visible = this.icSort.visible = this.icBinhLung.visible = this.icChi.visible = !1,
                this.ResetHand(),
                this.ResetEffect()
            }
            ,
            h.prototype.DrawCards = function(t, e) {
                var i;
                this.handCards = [];
                for (var o = 0; o < t.length; o++) {
                    var n = new Sprite(TextureCache[-1 === t[o].OrdinalValue ? "joker.png" : this.game.cardsMap[t[o].OrdinalValue]]);
                    n.anchor.set(.5),
                    n.scale.set(this.game.currentPlayer.AccountID === this.accountId ? 1.2 : .8),
                    n.rotation = this.game.handCardsPos[this.pos][o].rot * Math.PI / 180,
                    n.position.set(this.game.handCardsPos[this.pos][o].x, this.game.handCardsPos[this.pos][o].y),
                    n.OrdinalValue = t[o].OrdinalValue,
                    e || (n.visible = !1),
                    this.handCards.push(n),
                    10 !== o && 5 !== o || (i = 0),
                    4 < o ? (this.handContainer.addChildAt(n, i),
                    i++) : this.handContainer.addChild(n)
                }
            }
            ,
            h.prototype.ShowCards = function(t, e) {
                if (!(t.length < 13) && (this.handCards.length < 13 && this.DrawCards(t),
                13 === this.handCards.length))
                    for (var i = 0; i < this.handCards.length; i++)
                        this.handCards[i].OrdinalValue = t[i].OrdinalValue,
                        this.handCards[i].texture = TextureCache[this.game.cardsMap[t[i].OrdinalValue]],
                        this.handCards[i].visible = !0,
                        e && this.game.Overlay(this.handCards[i])
            }
            ,
            h.prototype.ShowChi = function(t, e) {
                this.ResetEffect(),
                this.icChi.visible = !1;
                for (var i = 0; i < this.handCards.length; i++)
                    this.game.Overlay(this.handCards[i]);
                if (3 < t) {
                    if (!e)
                        for (i = 0; i < this.handCards.length; i++)
                            this.game.UnOverlay(this.handCards[i]);
                    t === this.game.level && this.ShowResult()
                }
                if (!e && t < this.game.level) {
                    if (t < 4) {
                        var o = t < 3 ? 5 : 3;
                        for (i = 0; i < o; i++)
                            this.game.UnOverlay(this.handCards[5 * (t - 1) + i])
                    }
                    var n = this.game.roomModel.GameLoop.SessionResult.MauBinhResultList
                      , a = 0;
                    for (i = 0; i < n.length; i++)
                        n[i].AccountId === this.accountId && t === n[i].Index && (a += n[i].Money,
                        t < 4 && (this.icChi.visible = !0,
                        this.icChi.texture = this.game.GetTxtResult(n[i].ResultFamily)));
                    this.ShowMoney(a),
                    3 < t && t === this.game.level - 1 ? this.ShowWinBaChi(a) : this.ShowWL(a)
                }
            }
            ,
            h.prototype.ShowMauBinh = function() {
                var t = new AnimatedSprite(this.game.framesWin);
                t.anchor.set(.5),
                0 < this.pos && t.scale.set(.86),
                t.position.set(this.avatar.x, this.avatar.y + 10),
                t.animationSpeed = .5,
                t.play(),
                this.effectContainer.addChild(t);
                var e = new Sprite(this.game.GetTxtResult(99));
                if (e.anchor.set(.5),
                0 === this.pos) {
                    e.position.set(0, -80);
                    var i = new AnimatedSprite(this.game.framesFireWork);
                    i.anchor.set(.5),
                    i.scale.set(2),
                    i.animationSpeed = .5,
                    i.position.set(0, -80),
                    i.play(),
                    this.effectContainer.addChild(i)
                } else
                    e.scale.set(.45),
                    e.position.set(this.avatar.x, this.avatar.y + this.avatar.height / 2 - e.height / 2);
                this.effectContainer.addChild(e)
            }
            ,
            h.prototype.ShowWinBaChi = function(t) {
                var e = new Sprite(this.game.GetTxtResult(0 < t ? -10 : -9));
                e.anchor.set(.5),
                e.position.set(this.avatar.x, this.avatar.y + this.avatar.height / 2 - e.height / 2),
                this.effectContainer.addChild(e)
            }
            ,
            h.prototype.ShowT = function(t) {
                var e;
                switch (t) {
                case this.game.resultFamily.RongCuon:
                    e = "ca31";
                    break;
                case this.game.resultFamily.SanhRong:
                    e = "ca32";
                    break;
                case this.game.resultFamily.DongHoa:
                    e = "ca36";
                    break;
                case this.game.resultFamily.NamDoiMotSam:
                    e = "ca37";
                    break;
                case this.game.resultFamily.LucPheBon:
                    e = "ca33";
                    break;
                case this.game.resultFamily.BaThung:
                    e = "ca38";
                    break;
                case this.game.resultFamily.BaSanh:
                    e = "ca39"
                }
                var i = new PIXI.Text(Message.GetMessage(e),{
                    fontFamily: this.game.fontRobotoCondensedBold,
                    fontSize: 30,
                    fill: "white"
                });
                i.anchor.set(.5, 0),
                i.position.set(this.game.txtPos[this.pos].x, this.game.txtPos[this.pos].y),
                this.effectContainer.addChild(i)
            }
            ,
            h.prototype.ShowResult = function() {
                var t = this.game.roomModel.Players[this.accountId]
                  , e = t.Money;
                this.ShowMoney(e),
                t.BinhLung ? this.icBinhLung.visible = !0 : this.ShowWL(e),
                0 < e && t.MauBinhToiTrang >= this.game.resultFamily.BaSanh && this.ShowMauBinh(),
                this.ShowT(t.MauBinhToiTrang)
            }
            ,
            h.prototype.ShowWL = function(t) {
                var e = new Sprite(TextureCache[0 < t ? "bg-orange-effect.png" : t < 0 ? "bg-black-effect.png" : "bg-blue-effect.png"]);
                e.anchor.set(.5);
                var i = new PIXI.Text(Message.GetMessage(0 < t ? "ca85" : t < 0 ? "ca84" : "ca42"),{
                    fontFamily: this.game.fontRobotoCondensedBold,
                    fontSize: 16,
                    fill: "white"
                });
                i.anchor.set(.5),
                e.addChild(i),
                e.position.set(this.avatar.x, this.avatar.y + this.avatar.height / 2 - e.height / 2),
                this.effectContainer.addChild(e)
            }
            ,
            h.prototype.ShowMoney = function(t) {
                if (0 !== t) {
                    var e = new PIXI.Text((0 < t ? "+" : "") + s.Util.ParseMoney(t),{
                        fontFamily: this.game.fontFaceBold,
                        fontSize: 20,
                        fill: "yellow"
                    });
                    e.anchor.set(.5),
                    e.position.set(this.avatar.x, this.avatar.y),
                    this.game.effectContainer.addChild(e),
                    TweenMax.to(e, 2, {
                        data: "maubinh",
                        y: e.y - 100,
                        alpha: 0
                    })
                }
            }
            ,
            h.prototype.UpdateStatus = function(t) {
                1 === t ? this.isUnLeave || this.isLeave ? (this.isUnLeave = !1,
                this.leaveStatus.visible = !1,
                this.isLeave = !1,
                this.accountId === this.game.currentPlayer.AccountID && this.game.ShowStatus(Message.GetMessage("me9"), 2e3)) : this.disStatus.visible = !1 : 2 === t ? (this.isLeave = !0,
                this.leaveStatus.visible = !0,
                this.accountId === this.game.currentPlayer.AccountID && this.game.ShowStatus(Message.GetMessage("me8"), 2e3)) : 0 === t && (this.disStatus.visible = !0)
            }
            ,
            h);
            function h(t) {
                var e = a.call(this, t) || this;
                return e.handCards = [],
                e.isUnLeave = !1,
                e.isLeave = !1,
                e.icReady = new Sprite(void 0 !== TextureCache["mau-binh-san-sang-" + e.game.lang] ? TextureCache["mau-binh-san-sang-" + e.game.lang] : TextureCache["mau-binh-san-sang-" + e.game.defaultLang]),
                e.icReady.anchor.set(.5),
                e.icReady.position.set(e.avatar.x, e.avatar.y + e.avatar.height / 2 - e.icReady.height / 2),
                e.icReady.visible = !1,
                e.icSort = new Sprite(void 0 !== TextureCache["mau-binh-dang-xep-" + e.game.lang] ? TextureCache["mau-binh-dang-xep-" + e.game.lang] : TextureCache["mau-binh-dang-xep-" + e.game.defaultLang]),
                e.icSort.anchor.set(.5),
                e.icSort.position.set(e.avatar.x, e.avatar.y + e.avatar.height / 2 - e.icSort.height / 2),
                e.icSort.visible = !1,
                e.icBinhLung = new Sprite(void 0 !== TextureCache["mau-binh-binh-lung-" + e.game.lang] ? TextureCache["mau-binh-binh-lung-" + e.game.lang] : TextureCache["mau-binh-binh-lung-" + e.game.defaultLang]),
                e.icBinhLung.anchor.set(.5),
                e.icBinhLung.position.set(e.avatar.x, e.avatar.y + e.avatar.height / 2 - e.icBinhLung.height / 2),
                e.icBinhLung.visible = !1,
                e.icChi = new Sprite(void 0 !== TextureCache["mau-binh-binh-lung-" + e.game.lang] ? TextureCache["mau-binh-binh-lung-" + e.game.lang] : TextureCache["mau-binh-binh-lung-" + e.game.defaultLang]),
                e.icChi.anchor.set(.5, 0),
                e.icChi.position.set(e.game.txtPos[e.pos].x, e.game.txtPos[e.pos].y),
                e.icChi.visible = !1,
                e.addChild(e.icReady, e.icSort, e.icBinhLung, e.icChi),
                e.Reset(),
                e
            }
            e.default = r
        }
    },
    n.c = s,
    n.d = function(t, e, i) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }
    ,
    n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(e, t) {
        if (1 & t && (e = n(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var i = Object.create(null);
        if (n.r(i),
        Object.defineProperty(i, "default", {
            enumerable: !0,
            value: e
        }),
        2 & t && "string" != typeof e)
            for (var o in e)
                n.d(i, o, function(t) {
                    return e[t]
                }
                .bind(null, o));
        return i
    }
    ,
    n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return n.d(e, "a", e),
        e
    }
    ,
    n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    n.p = "/",
    n(n.s = 36);
    function n(t) {
        if (s[t])
            return s[t].exports;
        var e = s[t] = {
            i: t,
            l: !1,
            exports: {}
        };
        return a[t].call(e.exports, e, e.exports, n),
        e.l = !0,
        e.exports
    }
    var a, s
});
